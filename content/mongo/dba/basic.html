
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>基础 · GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="../../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-donate/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-splitter/splitter.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-back-to-top-button/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
        <link rel="stylesheet" href="../../styles/website.css">
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="../dev/" />
    
    
    <link rel="prev" href="../viewpoint/cards.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../../">
            
                <a href="../../">
            
                    
                    ABOUT
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" >
            
                <a target="_blank" href="https://cloudadc.github.io/container-ingress">
            
                    
                    CONTAINER INGRESS
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="../../nginx/">
            
                <a href="../../nginx/">
            
                    
                    NGINX
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="../../nginx/concepts.html">
            
                <a href="../../nginx/concepts.html">
            
                    
                    入门到精通
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2" data-path="../../nginx/install.html">
            
                <a href="../../nginx/install.html">
            
                    
                    离线安装
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3" data-path="../../nginx/controller.html">
            
                <a href="../../nginx/controller.html">
            
                    
                    Nginx Controller
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.3.1" data-path="../../nginx/apidrive.html">
            
                <a href="../../nginx/apidrive.html">
            
                    
                    API
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.4" data-path="../../nginx/usecase.html">
            
                <a href="../../nginx/usecase.html">
            
                    
                    用例
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.5" data-path="../../nginx/app/">
            
                <a href="../../nginx/app/">
            
                    
                    现代应用
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="../../dist.html">
            
                <a href="../../dist.html">
            
                    
                    DISTRIBUTED
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="../">
            
                <a href="../">
            
                    
                    MongoDB
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1.1" data-path="../viewpoint/presentation.html">
            
                <a href="../viewpoint/presentation.html">
            
                    
                    定位
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1.1.1" data-path="../viewpoint/5thingsfornosql.html">
            
                <a href="../viewpoint/5thingsfornosql.html">
            
                    
                    NOSQL 选择五维度
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.1.1.2" data-path="../viewpoint/oversea.html">
            
                <a href="../viewpoint/oversea.html">
            
                    
                    MongoDB 助力企业出海
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.1.1.3" data-path="../viewpoint/td.html">
            
                <a href="../viewpoint/td.html">
            
                    
                    Teradata 优化
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.1.1.4" data-path="../viewpoint/cards.html">
            
                <a href="../viewpoint/cards.html">
            
                    
                    MongoDB 对话卡片
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter active" data-level="1.4.1.2" data-path="basic.html">
            
                <a href="basic.html">
            
                    
                    基础
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.1.3" data-path="../dev/">
            
                <a href="../dev/">
            
                    
                    开发
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1.3.1" data-path="../dev/aggregation.html">
            
                <a href="../dev/aggregation.html">
            
                    
                    Aggregation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.1.3.2" data-path="../dev/aggregation-sum.html">
            
                <a href="../dev/aggregation-sum.html">
            
                    
                    $sum
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.1.3.3" data-path="../dev/transactions.html">
            
                <a href="../dev/transactions.html">
            
                    
                    分布式事务
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.1.3.4" data-path="../dev/java.html">
            
                <a href="../dev/java.html">
            
                    
                    Java
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.1.3.5" data-path="../dev/geo.html">
            
                <a href="../dev/geo.html">
            
                    
                    地理信息
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4.1.4" data-path="cluster-admin.html">
            
                <a href="cluster-admin.html">
            
                    
                    运维
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1.4.1" data-path="replication.html">
            
                <a href="replication.html">
            
                    
                    高可用
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.1.4.2" data-path="rs-deployments.html">
            
                <a href="rs-deployments.html">
            
                    
                    部署
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.1.4.3" data-path="rs-maintenance.html">
            
                <a href="rs-maintenance.html">
            
                    
                    维护
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.1.4.4" data-path="sharding.html">
            
                <a href="sharding.html">
            
                    
                    分片
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.1.4.5" data-path="dba.html">
            
                <a href="dba.html">
            
                    
                    DBA
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.1.4.6" data-path="sh-restore.html">
            
                <a href="sh-restore.html">
            
                    
                    基于 Delayed Secondary 时间点恢复
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.1.4.7" data-path="opsmanager.html">
            
                <a href="opsmanager.html">
            
                    
                    Ops Manager
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.1.4.8" data-path="perf.html">
            
                <a href="perf.html">
            
                    
                    性能调优
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.1.4.9" data-path="troubleshooting.html">
            
                <a href="troubleshooting.html">
            
                    
                    监控
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4.1.5" data-path="security.html">
            
                <a href="security.html">
            
                    
                    安全
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4.2" data-path="../../kafka/">
            
                <a href="../../kafka/">
            
                    
                    Kafka
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.2.1" data-path="../../kafka/installing/">
            
                <a href="../../kafka/installing/">
            
                    
                    安装
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4.3" data-path="../../elastic/">
            
                <a href="../../elastic/">
            
                    
                    ElasticSearch
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.4" data-path="../../spark/">
            
                <a href="../../spark/">
            
                    
                    Spark
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../.." >基础</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="mongodb-&#x57FA;&#x7840;">MongoDB &#x57FA;&#x7840;</h1>
<div id="toc" class="toc">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#__">&#x8F6F;&#x4EF6;&#x5B89;&#x88C5;</a>
<ul class="sectlevel2">
<li><a href="#_rhel_7_mongodb_enterprise_server">RHEL 7 &#x4E0A;&#x5B89;&#x88C5; mongodb-enterprise-server</a></li>
<li><a href="#_rhel_7_mongodb_enterprise_tools">RHEL 7 &#x4E0A;&#x5B89;&#x88C5; mongodb-enterprise-tools</a></li>
<li><a href="#_rhel_7_mongodb_compass">RHEL 7 &#x4E0A;&#x5B89;&#x88C5; mongodb-compass</a></li>
<li><a href="#_mac_pro_mongodb_enterprise_server">Mac Pro &#x4E0A;&#x5B89;&#x88C5; mongodb-enterprise-server</a></li>
<li><a href="#_mac_pro_mongodb_compass">Mac Pro &#x4E0A;&#x5B89;&#x88C5; mongodb-compass</a></li>
</ul>
</li>
<li><a href="#_atlas">Atlas &#x5B9E;&#x8DF5;</a>
<ul class="sectlevel2">
<li><a href="#__atlas_sandbox">&#x521B;&#x5EFA; Atlas Sandbox &#x96C6;&#x7FA4;</a></li>
<li><a href="#_mongo_shell_atlas_sandbox">Mongo Shell &#x8FDE;&#x63A5; Atlas Sandbox &#x96C6;&#x7FA4;</a></li>
<li><a href="#_atlas_sandbox">Atlas Sandbox &#x96C6;&#x7FA4;&#x4E2D;&#x5BFC;&#x5165;&#x6570;&#x636E;</a></li>
<li><a href="#_mongo_compass_atlas_sandbox">Mongo Compass &#x8FDE;&#x63A5; Atlas Sandbox &#x96C6;&#x7FA4;</a></li>
<li><a href="#___2">&#x6587;&#x6863;&#x63D2;&#x5165;</a></li>
<li><a href="#___3">&#x6587;&#x6863;&#x67E5;&#x8BE2;</a></li>
<li><a href="#___4">&#x6587;&#x6863;&#x66F4;&#x65B0;</a></li>
<li><a href="#___5">&#x6587;&#x6863;&#x66FF;&#x6362;</a></li>
<li><a href="#___6">&#x6587;&#x6863;&#x5220;&#x9664;</a></li>
</ul>
</li>
<li><a href="#___7">&#x9AD8;&#x7EA7;&#x67E5;&#x8BE2;</a>
<ul class="sectlevel2">
<li><a href="#_comparison_operators">Comparison Operators</a></li>
<li><a href="#_element_operators">Element Operators</a></li>
<li><a href="#_logical_operators">Logical Operators</a></li>
<li><a href="#_array_operators">Array Operators</a></li>
<li><a href="#___8">&#x6B63;&#x5219;&#x8868;&#x8FBE;&#x5F0F;&#x5339;&#x914D;</a></li>
</ul>
</li>
<li><a href="#_todo">TODO</a></li>
</ul>
</div>
<div class="sect1">
<h2 id="__">&#x8F6F;&#x4EF6;&#x5B89;&#x88C5;</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_rhel_7_mongodb_enterprise_server">RHEL 7 &#x4E0A;&#x5B89;&#x88C5; mongodb-enterprise-server</h3>
<div class="ulist">
<ul>
<li>
<p>&#x8BBF;&#x95EE; MongoDB Server &#x4E0B;&#x8F7D;&#x9875;&#x9762; <a href="https://www.mongodb.com/download-center/enterprise" class="bare" target="_blank">https://www.mongodb.com/download-center/enterprise</a></p>
</li>
<li>
<p>&#x9009;&#x62E9;&#x5BF9;&#x5E94;&#x7684;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x548C;&#x8F6F;&#x4EF6;&#x7248;&#x672C;&#xFF0C;&#x70B9;&#x51FB;&#x4E0B;&#x8F7D;&#x3002;</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="title"><strong>&#x672C;&#x5730;&#x5B89;&#x88C5;</strong></div>
<div class="content">
<pre class="highlight"><code class="language-text" data-lang="text"># yum localinstall mongodb-enterprise-server-4.0.6-1.el7.x86_64.rpm

...

Installed:
  mongodb-enterprise-server.x86_64 0:4.0.6-1.el7

Dependency Installed:
  net-snmp.x86_64 1:5.7.2-37.el7                                                           net-snmp-agent-libs.x86_64 1:5.7.2-37.el7

Complete!</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title"><strong>rpm -q -a - &#x67E5;&#x770B;&#x5168;&#x90E8;&#x5DF2;&#x5B89;&#x88C5;&#x4E86;&#x7684;&#x5305;</strong></div>
<div class="content">
<pre class="highlight"><code class="language-text" data-lang="text"># rpm -qa | grep &quot;mongodb*&quot;
mongodb-enterprise-server-4.0.6-1.el7.x86_64</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title"><strong>&#x5217;&#x51FA;&#x5B89;&#x88C5;&#x5F15;&#x5165;&#x7684;&#x6240;&#x6709;&#x6587;&#x4EF6;</strong></div>
<div class="content">
<pre class="highlight"><code class="language-text" data-lang="text"># rpm -q -l mongodb-enterprise-server
/etc/mongod.conf
/lib/systemd/system/mongod.service
/usr/bin/mongod
/usr/share/doc/mongodb-enterprise-server-4.0.6
/usr/share/doc/mongodb-enterprise-server-4.0.6/LICENSE-Enterprise.txt
/usr/share/doc/mongodb-enterprise-server-4.0.6/MONGOD-MIB.txt
/usr/share/doc/mongodb-enterprise-server-4.0.6/MONGODBINC-MIB.txt
/usr/share/doc/mongodb-enterprise-server-4.0.6/MPL-2
/usr/share/doc/mongodb-enterprise-server-4.0.6/README
/usr/share/doc/mongodb-enterprise-server-4.0.6/README-snmp.txt
/usr/share/doc/mongodb-enterprise-server-4.0.6/THIRD-PARTY-NOTICES
/usr/share/doc/mongodb-enterprise-server-4.0.6/mongod.conf.master
/usr/share/doc/mongodb-enterprise-server-4.0.6/mongod.conf.subagent
/usr/share/man/man1/mongod.1
/var/lib/mongo
/var/log/mongodb
/var/log/mongodb/mongod.log
/var/run/mongodb</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_rhel_7_mongodb_enterprise_tools">RHEL 7 &#x4E0A;&#x5B89;&#x88C5; mongodb-enterprise-tools</h3>
<div class="ulist">
<ul>
<li>
<p>&#x8BBF;&#x95EE; MongoDB Tools &#x4E0B;&#x8F7D;&#x9875;&#x9762; <a href="https://www.mongodb.com/download-center/enterprise" class="bare" target="_blank">https://www.mongodb.com/download-center/enterprise</a></p>
</li>
<li>
<p>&#x9009;&#x62E9;&#x5BF9;&#x5E94;&#x7684;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x548C;&#x8F6F;&#x4EF6;&#x7248;&#x672C;&#xFF0C;&#x70B9;&#x51FB;&#x4E0B;&#x8F7D;&#x3002;</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="title"><strong>&#x672C;&#x5730;&#x5B89;&#x88C5;</strong></div>
<div class="content">
<pre class="highlight"><code class="language-text" data-lang="text"># yum localinstall mongodb-enterprise-tools-4.0.6-1.el7.x86_64.rpm

...

Installed:
  mongodb-enterprise-tools.x86_64 0:4.0.6-1.el7

Complete!</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title"><strong>rpm -q -a - &#x67E5;&#x770B;&#x5168;&#x90E8;&#x5DF2;&#x5B89;&#x88C5;&#x4E86;&#x7684;&#x5305;</strong></div>
<div class="content">
<pre class="highlight"><code class="language-text" data-lang="text"># rpm -qa | grep &quot;mongodb*&quot;
mongodb-enterprise-server-4.0.6-1.el7.x86_64
mongodb-enterprise-tools-4.0.6-1.el7.x86_64</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title"><strong>&#x5217;&#x51FA;&#x5B89;&#x88C5;&#x5F15;&#x5165;&#x7684;&#x6240;&#x6709;&#x6587;&#x4EF6;</strong></div>
<div class="content">
<pre class="highlight"><code class="language-text" data-lang="text"># rpm -q -l mongodb-enterprise-tools
/usr/bin/bsondump
/usr/bin/install_compass
/usr/bin/mongodecrypt
/usr/bin/mongodump
/usr/bin/mongoexport
/usr/bin/mongofiles
/usr/bin/mongoimport
/usr/bin/mongoldap
/usr/bin/mongorestore
/usr/bin/mongostat
/usr/bin/mongotop
/usr/share/man/man1/bsondump.1
/usr/share/man/man1/mongodump.1
/usr/share/man/man1/mongoexport.1
/usr/share/man/man1/mongofiles.1
/usr/share/man/man1/mongoimport.1
/usr/share/man/man1/mongorestore.1
/usr/share/man/man1/mongostat.1
/usr/share/man/man1/mongotop.1</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_rhel_7_mongodb_compass">RHEL 7 &#x4E0A;&#x5B89;&#x88C5; mongodb-compass</h3>
<div class="ulist">
<ul>
<li>
<p>&#x8BBF;&#x95EE; MongoDB Compass &#x4E0B;&#x8F7D;&#x9875;&#x9762; <a href="https://www.mongodb.com/download-center/compass" class="bare" target="_blank">https://www.mongodb.com/download-center/compass</a></p>
</li>
<li>
<p>&#x9009;&#x62E9;&#x5BF9;&#x5E94;&#x7684;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x548C;&#x8F6F;&#x4EF6;&#x7248;&#x672C;&#xFF0C;&#x70B9;&#x51FB;&#x4E0B;&#x8F7D;&#x3002;</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="title"><strong>&#x672C;&#x5730;&#x5B89;&#x88C5;</strong></div>
<div class="content">
<pre class="highlight"><code class="language-text" data-lang="text"># yum localinstall mongodb-compass-1.17.0.x86_64.rpm

...

Installed:
  mongodb-compass.x86_64 0:1.17.0-1.el7

Complete!</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title"><strong>rpm -q -a - &#x67E5;&#x770B;&#x5168;&#x90E8;&#x5DF2;&#x5B89;&#x88C5;&#x4E86;&#x7684;&#x5305;</strong></div>
<div class="content">
<pre class="highlight"><code class="language-text" data-lang="text"># rpm -qa | grep &quot;mongodb-compass&quot;
mongodb-compass-1.17.0-1.el7.x86_64</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title"><strong>&#x5217;&#x51FA;&#x5B89;&#x88C5;&#x5F15;&#x5165;&#x7684;&#x6240;&#x6709;&#x6587;&#x4EF6;</strong></div>
<div class="content">
<pre class="highlight"><code class="language-text" data-lang="text"># rpm -ql mongodb-compass
/usr/bin/mongodb-compass
/usr/share/applications/mongodb-compass.desktop
/usr/share/doc/mongodb-compass
/usr/share/doc/mongodb-compass/copyright
/usr/share/mongodb-compass
...</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_mac_pro_mongodb_enterprise_server">Mac Pro &#x4E0A;&#x5B89;&#x88C5; mongodb-enterprise-server</h3>
<div class="ulist">
<ul>
<li>
<p>&#x8BBF;&#x95EE; MongoDB Server &#x4E0B;&#x8F7D;&#x9875;&#x9762; <a href="https://www.mongodb.com/download-center/enterprise" class="bare" target="_blank">https://www.mongodb.com/download-center/enterprise</a></p>
</li>
<li>
<p>&#x9009;&#x62E9;&#x5BF9;&#x5E94;&#x7684;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x548C;&#x8F6F;&#x4EF6;&#x7248;&#x672C;&#xFF0C;&#x70B9;&#x51FB;&#x4E0B;&#x8F7D;&#x3002;</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="title"><strong>&#x672C;&#x5730;&#x5B89;&#x88C5;</strong></div>
<div class="content">
<pre class="highlight"><code class="language-text" data-lang="text">$ tar -xvf mongodb-osx-x86_64-enterprise-4.0.7.tgz</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title"><strong>&#x521B;&#x5EFA;~/.bash_profile &#x6587;&#x4EF6;&#xFF0C;&#x5185;&#x5BB9;&#x5982;&#x4E0B;</strong></div>
<div class="content">
<pre class="highlight"><code class="language-text" data-lang="text">export PATH=&quot;~/work/mongo/mongodb-osx-x86_64-enterprise-4.0.7/bin:$PATH&quot;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_mac_pro_mongodb_compass">Mac Pro &#x4E0A;&#x5B89;&#x88C5; mongodb-compass</h3>
<div class="ulist">
<ul>
<li>
<p>&#x8BBF;&#x95EE; MongoDB Compass &#x4E0B;&#x8F7D;&#x9875;&#x9762; <a href="https://www.mongodb.com/download-center/compass" class="bare" target="_blank">https://www.mongodb.com/download-center/compass</a></p>
</li>
<li>
<p>&#x9009;&#x62E9;&#x5BF9;&#x5E94;&#x7684;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x548C;&#x8F6F;&#x4EF6;&#x7248;&#x672C;&#xFF0C;&#x70B9;&#x51FB;&#x4E0B;&#x8F7D;&#x3002;</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="title"><strong>&#x672C;&#x5730;&#x5B89;&#x88C5;</strong></div>
<div class="content">
<pre class="highlight"><code class="language-text" data-lang="text">$ sudo hdiutil attach mongodb-compass-1.17.0-darwin-x64.dmg
$ sudo cp -R /Volumes/MongoDB\ Compass/MongoDB\ Compass.app ~/Applications/
$ sudo hdiutil unmount /Volumes/MongoDB\ Compass/</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_atlas">Atlas &#x5B9E;&#x8DF5;</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="__atlas_sandbox">&#x521B;&#x5EFA; Atlas Sandbox &#x96C6;&#x7FA4;</h3>
<div class="paragraph">
<p><strong>1. &#x6CE8;&#x518C;&#x5E10;&#x53F7;</strong></p>
</div>
<div class="paragraph">
<p>&#x8BBF;&#x95EE; <a href="https://cloud.mongodb.com" class="bare" target="_blank">https://cloud.mongodb.com</a> &#x9875;&#x9762;&#xFF0C;&#x6CE8;&#x518C;&#x4E00;&#x4E2A;&#x5E10;&#x53F7;&#x3002;</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="img/atlas_registration.png" alt="atlas registration.png"></span></p>
</div>
<div class="paragraph">
<p><strong>2. &#x8D26;&#x6237;&#x6CE8;&#x518C;&#x5B8C;&#x540E;&#xFF0C;&#x70B9;&#x51FB; <code>Build a Cluster</code> &#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x96C6;&#x7FA4;</strong></p>
</div>
<div class="paragraph">
<p><strong>3. &#x9009;&#x62E9; AWS &#x4E3A;&#x4E91;&#x63D0;&#x4F9B;&#x5546;&#xFF0C;&#x9009;&#x62E9;&#x6709; <code>Free Tier Available</code> &#x6807;&#x8BB0;&#x7684;&#x5730;&#x533A;</strong></p>
</div>
<div class="paragraph">
<p><span class="image"><img src="img/cluster_provider.png" alt="cluster provider.png"></span></p>
</div>
<div class="paragraph">
<p><strong>4. &#x9009;&#x62E9; M0 &#x514D;&#x8D39;&#x7684; Cluster Tier</strong></p>
</div>
<div class="paragraph">
<p><span class="image"><img src="img/cluster_tier.png" alt="cluster tier.png"></span></p>
</div>
<div class="paragraph">
<p><strong>5. &#x8BBE;&#x5B9A;&#x96C6;&#x7FA4;&#x7684;&#x540D;&#x79F0;&#x4E3A; <code>Sandbox</code></strong></p>
</div>
<div class="paragraph">
<p><strong>6. &#x5728; <code>Sandbox</code> &#x96C6;&#x7FA4;&#x9875;&#x9762;&#xFF0C;&#x524D;&#x5F80; Settings&#xFF0C;&#x8BBE;&#x5B9A; Project &#x7684;&#x540D;&#x79F0;&#x4E3A; <code>M001</code></strong></p>
</div>
<div class="paragraph">
<p><strong>7. &#x521B;&#x5EFA; IT &#x767D;&#x540D;&#x5355;</strong></p>
</div>
<div class="paragraph">
<p>&#x5728;&#x96C6;&#x7FA4;&#x89C6;&#x56FE;&#x4E0B;&#xFF0C;&#x70B9;&#x51FB; <code>Security</code> &#x2192; <code>IP Whitelist</code>&#xFF0C;&#x70B9;&#x51FB; <code>Add IP Address</code> &#x6309;&#x94AE;&#xFF0C;&#x9009;&#x62E9; <code>Allow Access from Anywhere</code>&#x3002;</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="img/atlas-cluster-while-list.png" alt="atlas cluster while list.png"></span></p>
</div>
<div class="paragraph">
<p><strong>8. &#x521B;&#x5EFA;&#x7528;&#x6237;</strong></p>
</div>
<div class="paragraph">
<p>&#x70B9;&#x51FB; <code>MongoDB Users</code> &#x2192; <code>Add New User</code> &#x521B;&#x5EFA;</p>
</div>
<div class="ulist">
<ul>
<li>
<p>username: <strong>m001-student</strong></p>
</li>
<li>
<p>password: <strong>m001-mongodb-basics</strong></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>&#x9009;&#x62E9; <code>Read and write to any database</code>&#xFF0C;&#x70B9;&#x51FB; <code>Add User</code> &#x5B8C;&#x6210;&#x521B;&#x5EFA;&#x7528;&#x6237;&#x3002;</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="img/m001_user.png" alt="m001 user.png"></span></p>
</div>
</div>
<div class="sect2">
<h3 id="_mongo_shell_atlas_sandbox">Mongo Shell &#x8FDE;&#x63A5; Atlas Sandbox &#x96C6;&#x7FA4;</h3>
<div class="paragraph">
<p><strong>1. &#x5728; Atlas Sandbox &#x96C6;&#x7FA4;&#x754C;&#x9762;&#xFF0C;&#x70B9;&#x51FB; <code>CONNECT</code> &#x6309;&#x94AE;&#xFF0C;&#x9009;&#x62E9; <code>Connect with the Mongo Shell</code> &#x9009;&#x9879;</strong></p>
</div>
<div class="paragraph">
<p><span class="image"><img src="img/atlas-connect-mongo-shell.png" alt="atlas connect mongo shell.png"></span></p>
</div>
<div class="paragraph">
<p><strong>2. &#x5728; Connect to Sandbox &#x9875;&#x9762;&#x9009;&#x62E9; <code>I have the Mongo Shell installed</code></strong></p>
</div>
<div class="paragraph">
<p>&#x9009;&#x62E9;&#x7248;&#x672C;&#xFF1A; <code>3.6 or later</code>&#xFF0C;&#x5728; <code>Run your connection string in your command line</code> &#x90E8;&#x5206;&#xFF0C;&#x70B9;&#x51FB; <code>Copy</code> &#x6309;&#x94AE;&#xFF1A;</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="img/atlas-sandbox-shell-copy.png" alt="atlas sandbox shell copy.png"></span></p>
</div>
<div class="listingblock">
<div class="title"><strong>3. &#x5C06;&#x4E0A;&#x9762;&#x6B65;&#x9AA4;&#x62F7;&#x8D1D;&#x7684;&#x547D;&#x4EE4;&#x590D;&#x5236;&#x5230;&#x547D;&#x4EE4;&#x884C;, &#x5E76;&#x6DFB;&#x52A0; password &#x90E8;&#x5206;&#xFF0C;&#x5982;&#x4E0B;</strong></div>
<div class="content">
<pre class="highlight"><code class="language-text" data-lang="text">$ mongo &quot;mongodb+srv://sandbox-jsdhf.mongodb.net/test&quot; --username m001-student --password m001-mongodb-basics
MongoDB shell version v4.0.6
MongoDB Enterprise Sandbox-shard-0:PRIMARY&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_atlas_sandbox">Atlas Sandbox &#x96C6;&#x7FA4;&#x4E2D;&#x5BFC;&#x5165;&#x6570;&#x636E;</h3>
<div class="paragraph">
<p><strong>1. &#x51C6;&#x5907;&#x6570;&#x636E;</strong></p>
</div>
<div class="paragraph">
<p>Mongo Shell &#x662F;&#x4E00;&#x6B3E; JS 100% &#x517C;&#x5BB9;&#x7684;&#x5BA2;&#x6237;&#x7AEF;&#xFF0C;&#x53EF;&#x4EE5;&#x901A;&#x8FC7; JS &#x6587;&#x4EF6;&#x51C6;&#x5907;&#x6570;&#x636E;&#xFF0C;JS &#x91CC;&#x53EF;&#x4EE5;&#x662F;&#x4E00;&#x7CFB;&#x5217;&#x7684;&#x6279;&#x91CF;&#x6570;&#x636E;&#xFF0C;&#x4F8B;&#x5982;&#x521B;&#x5EFA; <code>loadMovieDetailsDataset.js</code> &#x6587;&#x4EF6;&#xFF0C;&#x5185;&#x5BB9;&#x5982;&#x4E0B;</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-text" data-lang="text">db = db.getSiblingDB(&quot;video&quot;);
db.movieDetails.drop();
db.movieDetails.insertMany([
{},{},{}
]);</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title"><strong>2. &#x5728;&#x548C; JS &#x6587;&#x4EF6;&#x540C;&#x4E00;&#x4F4D;&#x7F6E;&#x5904; Mongo Shell &#x8FDE;&#x63A5; Atlas Sandbox &#x96C6;&#x7FA4;</strong></div>
<div class="content">
<pre class="highlight"><code class="language-text" data-lang="text">$ mongo &quot;mongodb+srv://sandbox-jsdhf.mongodb.net/test&quot; --username m001-student --password m001-mongodb-basics
MongoDB shell version v4.0.6
MongoDB Enterprise Sandbox-shard-0:PRIMARY&gt;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title"><strong>3. &#x6267;&#x884C; load &#x6570;&#x636E;&#x65B9;&#x6CD5;</strong></div>
<div class="content">
<pre class="highlight"><code class="language-text" data-lang="text">MongoDB Enterprise Sandbox-shard-0:PRIMARY&gt; load(&quot;loadMovieDetailsDataset.js&quot;)
true</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title"><strong>4. &#x67E5;&#x770B;&#x521B;&#x5EFA;&#x7684;&#x6570;&#x636E;&#x5E93;&#x540D;</strong></div>
<div class="content">
<pre class="highlight"><code class="language-text" data-lang="text">MongoDB Enterprise Sandbox-shard-0:PRIMARY&gt; show dbs
admin  0.000GB
local  2.747GB
video  0.001GB</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title"><strong>5. &#x67E5;&#x770B; collections</strong></div>
<div class="content">
<pre class="highlight"><code class="language-text" data-lang="text">MongoDB Enterprise Sandbox-shard-0:PRIMARY&gt; show collections
movieDetails</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title"><strong>6. &#x67E5;&#x770B;&#x6587;&#x6863;&#x603B;&#x6570;</strong></div>
<div class="content">
<pre class="highlight"><code class="language-text" data-lang="text">MongoDB Enterprise Sandbox-shard-0:PRIMARY&gt; db.movieDetails.count()
2295</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_mongo_compass_atlas_sandbox">Mongo Compass &#x8FDE;&#x63A5; Atlas Sandbox &#x96C6;&#x7FA4;</h3>
<div class="paragraph">
<p><strong>1. &#x9009;&#x62E9;&#x4E3B;&#x673A;&#x540D;&#x79F0;</strong></p>
</div>
<div class="paragraph">
<p>&#x5728; Atlas Sandbox &#x96C6;&#x7FA4;&#x754C;&#x9762;&#xFF0C;&#x70B9;&#x51FB;&#x96C6;&#x7FA4;&#x540D;&#x79F0; <code>Sandbox</code>&#xFF0C;&#x5728; Sandbox &#x754C;&#x9762;&#x70B9;&#x51FB; <code>PRIMARY</code> &#x8282;&#x70B9;&#xFF1A;</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="img/atlas-sandbox-primary.png" alt="atlas sandbox primary.png"></span></p>
</div>
<div class="paragraph">
<p><strong>2. &#x62F7;&#x8D1D;&#x4E3B;&#x673A;&#x540D;&#x79F0;</strong></p>
</div>
<div class="paragraph">
<p>&#x5728;&#x4E3B;&#x673A;&#x660E;&#x7EC6;&#x7684;&#x754C;&#x9762;&#x4E0A;&#x62F7;&#x8D1D;&#x4E3B;&#x673A;&#x540D;&#x79F0;</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="img/atlas-sandbox-primary-host.png" alt="atlas sandbox primary host.png"></span></p>
</div>
<div class="paragraph">
<p>&#x4F8B;&#x5982;&#xFF1A;<code>sandbox-shard-00-00-jsdhf.mongodb.net</code></p>
</div>
<div class="listingblock">
<div class="title"><strong>3. &#x547D;&#x4EE4;&#x884C;&#x6267;&#x884C;</strong></div>
<div class="content">
<pre class="highlight"><code class="language-text" data-lang="text">$ mongodb-compass</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>4. &#x5728; Connect to Host &#x9875;&#x9762;&#x914D;&#x5236;&#x76F8;&#x5E94;&#x7684;&#x503C;</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Hostname: <code>sandbox-shard-00-00-jsdhf.mongodb.net</code></p>
</li>
<li>
<p>Port: <code>27017</code></p>
</li>
<li>
<p>Authentication: <code>Username/Password</code></p>
</li>
<li>
<p>Username: <code>m001-student</code></p>
</li>
<li>
<p>Password: <code>m001-mongodb-basics</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>&#x5176;&#x5B83;&#x9879;&#x4F7F;&#x7528;&#x9ED8;&#x8BA4;&#x503C;&#xFF0C;&#x70B9;&#x51FB; <strong>CONNECT</strong> &#x6309;&#x94AE;</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="img/mongodb-compass-connect.png" alt="mongodb compass connect.png"></span></p>
</div>
<div class="paragraph">
<p><strong>5. &#x6267;&#x884C;&#x7B80;&#x5355;&#x6570;&#x636E;&#x5206;&#x6790;</strong></p>
</div>
<div class="paragraph">
<p>&#x9009;&#x62E9;&#x6570;&#x636E;&#x5E93; <code>video</code>&#xFF0C;&#x70B9;&#x51FB; collection <code>movieDetails</code>&#xFF0C;&#x5728; <code>Schema</code> &#x680F;&#x70B9;&#x51FB; <code>ANALYZE</code> &#x6309;&#x94AE;&#xFF0C;&#x67E5;&#x770B;&#x6570;&#x636E;&#x5206;&#x6790;&#x7ED3;&#x679C;</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="img/mongodb-compass-analyze.png" alt="mongodb compass analyze.png"></span></p>
</div>
</div>
<div class="sect2">
<h3 id="___2">&#x6587;&#x6863;&#x63D2;&#x5165;</h3>
<div class="paragraph">
<p><strong>1. &#x521B;&#x5EFA; Collection</strong></p>
</div>
<div class="paragraph">
<p>&#x5728; Compass &#x754C;&#x9762; <code>movie</code> &#x4E2D;&#xFF0C;&#x70B9;&#x51FB; <code>CREATE COLLECTION</code> &#x6309;&#x94AE;&#xFF0C;&#x521B;&#x5EFA; <code>movieScratch</code></p>
</div>
<div class="paragraph">
<p><span class="image"><img src="img/mongodb-compass-create-collection.png" alt="mongodb compass create collection.png"></span></p>
</div>
<div class="paragraph">
<p><strong>2. &#x63D2;&#x5165;&#x4E00;&#x6761;&#x6570;&#x636E;</strong></p>
</div>
<div class="paragraph">
<p>&#x70B9;&#x51FB;&#x65B0;&#x521B;&#x5EFA;&#x7684; <code>movieScratch</code>&#xFF0C;&#x70B9;&#x51FB; <code>Documents</code> &#x680F;&#xFF0C;&#x70B9;&#x51FB; <code>INSERT DOCUMENT</code>&#xFF0C;&#x5728; <code>Insert Document</code> &#x754C;&#x9762;&#x63D2;&#x5165;&#x6570;&#x636E;&#xFF0C;&#x6DFB;&#x52A0; <code>title</code>, <code>year</code>, <code>imdb</code>&#xFF1A;</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="img/mongodb-compass-insert-document.png" alt="mongodb compass insert document.png"></span></p>
</div>
<div class="paragraph">
<p>&#x70B9;&#x51FB; <code>INSERT</code> &#x5B8C;&#x6210;&#x63D2;&#x5165;&#x4E00;&#x6761;&#x6570;&#x636E;&#x3002;</p>
</div>
<div class="listingblock">
<div class="title"><strong>3. &#x4ECE; Mongo Shell &#x63D2;&#x5165;&#x4E00;&#x6761;&#x6570;&#x636E;</strong></div>
<div class="content">
<pre class="highlight"><code class="language-text" data-lang="text">MongoDB Enterprise Sandbox-shard-0:PRIMARY&gt; db.movieScratch.insertOne({title: &quot;Fire&quot;, year: 1992, imdb: &quot;tt0084726&quot;})
{
	&quot;acknowledged&quot; : true,
	&quot;insertedId&quot; : ObjectId(&quot;5c92f14660e022ecdc660669&quot;)
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title"><strong>4. &#x67E5;&#x770B;&#x63D2;&#x5165;&#x7684;&#x6570;&#x636E;</strong></div>
<div class="content">
<pre class="highlight"><code class="language-text" data-lang="text">MongoDB Enterprise Sandbox-shard-0:PRIMARY&gt; db.movieScratch.find()
{ &quot;_id&quot; : ObjectId(&quot;5c92ef675879df5d63a5f74e&quot;), &quot;title&quot; : &quot;Rocky&quot;, &quot;year&quot; : 1976, &quot;imdb&quot; : &quot;tt0075148&quot; }
{ &quot;_id&quot; : ObjectId(&quot;5c92f08d5879df5d63a5f74f&quot;), &quot;title&quot; : &quot;Creed&quot;, &quot;year&quot; : 2015, &quot;imdb&quot; : &quot;tt30766&quot; }
{ &quot;_id&quot; : ObjectId(&quot;5c92f14660e022ecdc660669&quot;), &quot;title&quot; : &quot;Fire&quot;, &quot;year&quot; : 1992, &quot;imdb&quot; : &quot;tt0084726&quot; }</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title"><strong>5. &#x9ED8;&#x8BA4;&#x591A;&#x6761;&#x6570;&#x636E;&#x63D2;&#x5165;&#x662F;&#x6309;&#x7167;&#x987A;&#x5E8F;&#x6267;&#x884C;&#x7684;&#xFF0C;&#x5982;&#x679C;&#x6267;&#x884C;&#x51FA;&#x9519;&#xFF0C;&#x8DF3;&#x8FC7;&#x63D2;&#x5165;&#x540E;&#x9762;&#x7684;&#x6570;&#x636E;</strong></div>
<div class="content">
<pre class="highlight"><code class="language-text" data-lang="text">MongoDB Enterprise Sandbox-shard-0:PRIMARY&gt; db.movieScratch.insertMany(
     [
         {
       &quot;_id&quot; : &quot;tt0084726&quot;,
       &quot;title&quot; : &quot;Star Trek II: The Wrath of Khan&quot;,
       &quot;year&quot; : 1982,
       &quot;type&quot; : &quot;movie&quot;
           },
           {
       &quot;_id&quot; : &quot;tt0796366&quot;,
       &quot;title&quot; : &quot;Star Trek&quot;,
       &quot;year&quot; : 2009,
       &quot;type&quot; : &quot;movie&quot;
           },
           {
       &quot;_id&quot; : &quot;tt0084726&quot;,
       &quot;title&quot; : &quot;Star Trek II: The Wrath of Khan&quot;,
       &quot;year&quot; : 1982,
       &quot;type&quot; : &quot;movie&quot;
           },
           {
       &quot;_id&quot; : &quot;tt1408101&quot;,
       &quot;title&quot; : &quot;Star Trek Into Darkness&quot;,
       &quot;year&quot; : 2013,
       &quot;type&quot; : &quot;movie&quot;
           },
           {
       &quot;_id&quot; : &quot;tt0117731&quot;,
       &quot;title&quot; : &quot;Star Trek: First Contact&quot;,
       &quot;year&quot; : 1996,
       &quot;type&quot; : &quot;movie&quot;
         }
     ]
 );
2019-03-21T10:25:58.388+0800 E QUERY    [js] BulkWriteError: write error at item 2 in bulk operation :
BulkWriteError({
	&quot;writeErrors&quot; : [
		{
			&quot;index&quot; : 2,
			&quot;code&quot; : 11000,
			&quot;errmsg&quot; : &quot;E11000 duplicate key error collection: video.movieScratch index: _id_ dup key: { : \&quot;tt0084726\&quot; }&quot;,
			&quot;op&quot; : {
				&quot;_id&quot; : &quot;tt0084726&quot;,
				&quot;title&quot; : &quot;Star Trek II: The Wrath of Khan&quot;,
				&quot;year&quot; : 1982,
				&quot;type&quot; : &quot;movie&quot;
			}
		}
	],
	&quot;writeConcernErrors&quot; : [ ],
	&quot;nInserted&quot; : 2,
	&quot;nUpserted&quot; : 0,
	&quot;nMatched&quot; : 0,
	&quot;nModified&quot; : 0,
	&quot;nRemoved&quot; : 0,
	&quot;upserted&quot; : [ ]
})</code></pre>
</div>
</div>
<div class="paragraph">
<p>&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x987A;&#x5E8F;&#x63D2;&#x5165;&#x7B2C;&#x4E09;&#x6761;&#x6570;&#x636E;&#x65F6;&#x56E0;&#x4E3A; _id &#x552F;&#x4E00;&#x6027;&#x51B2;&#x7A81;&#x5BFC;&#x81F4;&#x63D2;&#x5165;&#x5931;&#x8D25;&#x3002;</p>
</div>
<div class="listingblock">
<div class="title"><strong>6. &#x67E5;&#x770B;&#x63D2;&#x5165;&#x7684;&#x6570;&#x636E;</strong></div>
<div class="content">
<pre class="highlight"><code class="language-text" data-lang="text">MongoDB Enterprise Sandbox-shard-0:PRIMARY&gt; db.movieScratch.find()
{ &quot;_id&quot; : &quot;tt0084726&quot;, &quot;title&quot; : &quot;Star Trek II: The Wrath of Khan&quot;, &quot;year&quot; : 1982, &quot;type&quot; : &quot;movie&quot; }
{ &quot;_id&quot; : &quot;tt0796366&quot;, &quot;title&quot; : &quot;Star Trek&quot;, &quot;year&quot; : 2009, &quot;type&quot; : &quot;movie&quot; }</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title"><strong>7. &#x8BBE;&#x5B9A; order &#x4E3A; false &#x53EF;&#x4EE5;&#x6307;&#x5B9A;&#x63D2;&#x5165;&#x4E0D;&#x662F;&#x6309;&#x987A;&#x5E8F;&#x6267;&#x884C;&#xFF0C;&#x63D2;&#x5165;&#x662F;&#x5982;&#x679C;&#x9047;&#x5230;&#x9519;&#x8BEF;&#xFF0C;&#x4F1A;&#x8DF3;&#x8FC7;&#x9519;&#x8BEF;&#x7EE7;&#x7EED;&#x6267;&#x884C;&#x63D2;&#x5165;</strong></div>
<div class="content">
<pre class="highlight"><code class="language-text" data-lang="text">MongoDB Enterprise Sandbox-shard-0:PRIMARY&gt; db.movieScratch.insertMany(
     [
         {
     &quot;_id&quot; : &quot;tt0084726&quot;,
     &quot;title&quot; : &quot;Star Trek II: The Wrath of Khan&quot;,
     &quot;year&quot; : 1982,
     &quot;type&quot; : &quot;movie&quot;
         },
         {
     &quot;_id&quot; : &quot;tt0796366&quot;,
     &quot;title&quot; : &quot;Star Trek&quot;,
     &quot;year&quot; : 2009,
     &quot;type&quot; : &quot;movie&quot;
         },
         {
     &quot;_id&quot; : &quot;tt0084726&quot;,
     &quot;title&quot; : &quot;Star Trek II: The Wrath of Khan&quot;,
     &quot;year&quot; : 1982,
     &quot;type&quot; : &quot;movie&quot;
         },
         {
     &quot;_id&quot; : &quot;tt1408101&quot;,
     &quot;title&quot; : &quot;Star Trek Into Darkness&quot;,
     &quot;year&quot; : 2013,
     &quot;type&quot; : &quot;movie&quot;
         },
         {
     &quot;_id&quot; : &quot;tt0117731&quot;,
     &quot;title&quot; : &quot;Star Trek: First Contact&quot;,
     &quot;year&quot; : 1996,
     &quot;type&quot; : &quot;movie&quot;
         }
     ],
     {
         &quot;ordered&quot;: false
     }
 );
2019-03-21T10:28:21.868+0800 E QUERY    [js] BulkWriteError: 3 write errors in bulk operation :
BulkWriteError({
	&quot;writeErrors&quot; : [
		{
			&quot;index&quot; : 0,
			&quot;code&quot; : 11000,
			&quot;errmsg&quot; : &quot;E11000 duplicate key error collection: video.movieScratch index: _id_ dup key: { : \&quot;tt0084726\&quot; }&quot;,
			&quot;op&quot; : {
				&quot;_id&quot; : &quot;tt0084726&quot;,
				&quot;title&quot; : &quot;Star Trek II: The Wrath of Khan&quot;,
				&quot;year&quot; : 1982,
				&quot;type&quot; : &quot;movie&quot;
			}
		},
		{
			&quot;index&quot; : 1,
			&quot;code&quot; : 11000,
			&quot;errmsg&quot; : &quot;E11000 duplicate key error collection: video.movieScratch index: _id_ dup key: { : \&quot;tt0796366\&quot; }&quot;,
			&quot;op&quot; : {
				&quot;_id&quot; : &quot;tt0796366&quot;,
				&quot;title&quot; : &quot;Star Trek&quot;,
				&quot;year&quot; : 2009,
				&quot;type&quot; : &quot;movie&quot;
			}
		},
		{
			&quot;index&quot; : 2,
			&quot;code&quot; : 11000,
			&quot;errmsg&quot; : &quot;E11000 duplicate key error collection: video.movieScratch index: _id_ dup key: { : \&quot;tt0084726\&quot; }&quot;,
			&quot;op&quot; : {
				&quot;_id&quot; : &quot;tt0084726&quot;,
				&quot;title&quot; : &quot;Star Trek II: The Wrath of Khan&quot;,
				&quot;year&quot; : 1982,
				&quot;type&quot; : &quot;movie&quot;
			}
		}
	],
	&quot;writeConcernErrors&quot; : [ ],
	&quot;nInserted&quot; : 2,
	&quot;nUpserted&quot; : 0,
	&quot;nMatched&quot; : 0,
	&quot;nModified&quot; : 0,
	&quot;nRemoved&quot; : 0,
	&quot;upserted&quot; : [ ]
})</code></pre>
</div>
</div>
<div class="paragraph">
<p>&#x53EF;&#x4EE5;&#x770B;&#x5230;&#xFF0C;&#x6279;&#x91CF;&#x63D2;&#x5165;&#x7684;&#x524D;&#x4E09;&#x6761;&#x6570;&#x636E;&#x90FD;&#x9047;&#x5230;&#x4E86; _id &#x552F;&#x4E00;&#x6027;&#x51B2;&#x7A81;&#x5BFC;&#x81F4;&#x5931;&#x8D25;&#x7684;&#x95EE;&#x9898;&#xFF0C;&#x4F46;&#x7EE7;&#x7EED;&#x63D2;&#x5165;&#x4E86;&#x7B2C;&#x56DB;&#x548C;&#x7B2C;&#x4E94;&#x6761;&#x6570;&#x636E;&#x3002;</p>
</div>
<div class="listingblock">
<div class="title"><strong>8. &#x67E5;&#x770B;&#x63D2;&#x5165;&#x7684;&#x6570;&#x636E;</strong></div>
<div class="content">
<pre class="highlight"><code class="language-text" data-lang="text">MongoDB Enterprise Sandbox-shard-0:PRIMARY&gt; db.movieScratch.find()
{ &quot;_id&quot; : &quot;tt0084726&quot;, &quot;title&quot; : &quot;Star Trek II: The Wrath of Khan&quot;, &quot;year&quot; : 1982, &quot;type&quot; : &quot;movie&quot; }
{ &quot;_id&quot; : &quot;tt0796366&quot;, &quot;title&quot; : &quot;Star Trek&quot;, &quot;year&quot; : 2009, &quot;type&quot; : &quot;movie&quot; }
{ &quot;_id&quot; : &quot;tt1408101&quot;, &quot;title&quot; : &quot;Star Trek Into Darkness&quot;, &quot;year&quot; : 2013, &quot;type&quot; : &quot;movie&quot; }
{ &quot;_id&quot; : &quot;tt0117731&quot;, &quot;title&quot; : &quot;Star Trek: First Contact&quot;, &quot;year&quot; : 1996, &quot;type&quot; : &quot;movie&quot; }</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="___3">&#x6587;&#x6863;&#x67E5;&#x8BE2;</h3>
<div class="listingblock">
<div class="title"><strong>1. &#x540C;&#x65F6;&#x6EE1;&#x8DB3;&#x4E24;&#x6B21;&#x83B7;&#x5956;&#xFF0C;&#x4E24;&#x6B21;&#x63D0;&#x540D;&#x7684;&#x7535;&#x5F71;&#xFF0C;&#x5E76;&#x7EDF;&#x8BA1;&#x4E2A;&#x6570;</strong></div>
<div class="content">
<pre class="highlight"><code class="language-text" data-lang="text">MongoDB Enterprise Sandbox-shard-0:PRIMARY&gt; db.movieDetails.find({&quot;awards.wins&quot;: 2, &quot;awards.nominations&quot;: 2}).count()
12</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title"><strong>2. &#x540C;&#x65F6;&#x6EE1;&#x8DB3;&#x6807;&#x8BB0;&#x4E3A; PG&#xFF0C;10 &#x6B64;&#x83B7;&#x5F97;&#x63D0;&#x540D;&#xFF0C;&#x5E76;&#x7EDF;&#x8BA1;&#x4E2A;&#x6570;</strong></div>
<div class="content">
<pre class="highlight"><code class="language-text" data-lang="text">MongoDB Enterprise Sandbox-shard-0:PRIMARY&gt; db.movieDetails.find({&quot;rated&quot;: &quot;PG&quot;, &quot;awards.nominations&quot;: 10}).count()
3</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title"><strong>3. &#x540C;&#x65F6;&#x6EE1;&#x8DB3;&#x7535;&#x5F71;&#x7684;&#x4F5C;&#x8005;&#x5305;&#x62EC;&#x4E24;&#x4E2A;&#x4EBA; Ethan Coen &#x548C; Joel Coen&#xFF0C;&#x5E76;&#x7EDF;&#x8BA1;&#x4E2A;&#x6570;</strong></div>
<div class="content">
<pre class="highlight"><code class="language-text" data-lang="text">MongoDB Enterprise Sandbox-shard-0:PRIMARY&gt; db.movieDetails.find({&quot;writers&quot;: [&quot;Ethan Coen&quot;, &quot;Joel Coen&quot;]}).count()
1</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title"><strong>4. &#x67E5;&#x770B; genres &#x4E2D;&#x5305;&#x542B; Family &#x7684;&#x7535;&#x5F71;&#xFF0C;&#x5E76;&#x7EDF;&#x8BA1;&#x4E2A;&#x6570;</strong></div>
<div class="content">
<pre class="highlight"><code class="language-text" data-lang="text">MongoDB Enterprise Sandbox-shard-0:PRIMARY&gt; db.movieDetails.find({&quot;genres&quot;: &quot;Family&quot;}).count()
124</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title"><strong>5. &#x67E5;&#x770B; genres &#x4E2D;&#x7B2C; 2 &#x9879;&#x4E3A; Western &#x7684;&#x7535;&#x5F71;&#xFF0C;&#x5E76;&#x7EDF;&#x8BA1;&#x4E2A;&#x6570;</strong></div>
<div class="content">
<pre class="highlight"><code class="language-text" data-lang="text">MongoDB Enterprise Sandbox-shard-0:PRIMARY&gt; db.movieDetails.find({&quot;genres.1&quot;: &quot;Western&quot;}).count()
14</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title"><strong>6. &#x8F93;&#x51FA;&#x7535;&#x5F71;&#x7684;&#x540D;&#x79F0;&#xFF0C;&#x51FA;&#x7248;&#x5E74;&#x4EFD;&#xFF0C;&#x5BFC;&#x6F14;&#x540D;&#x79F0;&#xFF0C;&#x4E0D;&#x8F93;&#x51FA; ID</strong></div>
<div class="content">
<pre class="highlight"><code class="language-text" data-lang="text">MongoDB Enterprise Sandbox-shard-0:PRIMARY&gt; db.movieDetails.find({&quot;genres&quot;: &quot;Family&quot;}, {title: 1, year: 1, director: 1, _id: 0})
{ &quot;title&quot; : &quot;An American Tail: Fievel Goes West&quot;, &quot;year&quot; : 1991, &quot;director&quot; : &quot;Phil Nibbelink, Simon Wells&quot; }
{ &quot;title&quot; : &quot;Lost in Space&quot;, &quot;year&quot; : 1998, &quot;director&quot; : &quot;Stephen Hopkins&quot; }
{ &quot;title&quot; : &quot;Muppets from Space&quot;, &quot;year&quot; : 1999, &quot;director&quot; : &quot;Tim Hill&quot; }
{ &quot;title&quot; : &quot;The Many Adventures of Winnie the Pooh&quot;, &quot;year&quot; : 1977, &quot;director&quot; : &quot;John Lounsbery, Wolfgang Reitherman&quot; }
{ &quot;title&quot; : &quot;The Adventures of Sharkboy and Lavagirl 3-D&quot;, &quot;year&quot; : 2005, &quot;director&quot; : &quot;Robert Rodriguez&quot; }
{ &quot;title&quot; : &quot;The Greatest Show on Earth&quot;, &quot;year&quot; : 1952, &quot;director&quot; : &quot;Cecil B. DeMille&quot; }
{ &quot;title&quot; : &quot;Show Boat&quot;, &quot;year&quot; : 1951, &quot;director&quot; : &quot;George Sidney&quot; }
{ &quot;title&quot; : &quot;Treasure Planet&quot;, &quot;year&quot; : 2002, &quot;director&quot; : &quot;Ron Clements, John Musker&quot; }
{ &quot;title&quot; : &quot;Forbidden Planet&quot;, &quot;year&quot; : 1956, &quot;director&quot; : &quot;Fred M. Wilcox&quot; }
{ &quot;title&quot; : &quot;The Karate Kid&quot;, &quot;year&quot; : 1984, &quot;director&quot; : &quot;John G. Avildsen&quot; }
{ &quot;title&quot; : &quot;The Karate Kid&quot;, &quot;year&quot; : 2010, &quot;director&quot; : &quot;Harald Zwart&quot; }
{ &quot;title&quot; : &quot;The Kid&quot;, &quot;year&quot; : 1921, &quot;director&quot; : &quot;Charles Chaplin&quot; }
{ &quot;title&quot; : &quot;The Karate Kid, Part II&quot;, &quot;year&quot; : 1986, &quot;director&quot; : &quot;John G. Avildsen&quot; }
...</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="___4">&#x6587;&#x6863;&#x66F4;&#x65B0;</h3>
<div class="listingblock">
<div class="title"><strong>1. &#x67E5;&#x8BE2; title &#x4E3A; The Martian &#x7684;&#x7535;&#x5F71;&#xFF08;&#x6CA1;&#x6709; poster &#x5C5E;&#x6027;&#xFF09;</strong></div>
<div class="content">
<pre class="highlight"><code class="language-text" data-lang="text">MongoDB Enterprise Sandbox-shard-0:PRIMARY&gt; db.movieDetails.find({title: &quot;The Martian&quot;}).pretty()
{
	&quot;_id&quot; : ObjectId(&quot;5ca3128f0ed7445cfc1b5ba8&quot;),
	&quot;title&quot; : &quot;The Martian&quot;,
	&quot;year&quot; : 2015,
	&quot;rated&quot; : &quot;PG-13&quot;,
	&quot;runtime&quot; : 144,
	&quot;countries&quot; : [
		&quot;USA&quot;,
		&quot;UK&quot;
	],
	&quot;genres&quot; : [
		&quot;Adventure&quot;,
		&quot;Drama&quot;,
		&quot;Sci-Fi&quot;
	],
	&quot;director&quot; : &quot;Ridley Scott&quot;,
	&quot;writers&quot; : [
		&quot;Drew Goddard&quot;,
		&quot;Andy Weir&quot;
	],
	&quot;actors&quot; : [
		&quot;Matt Damon&quot;,
		&quot;Jessica Chastain&quot;,
		&quot;Kristen Wiig&quot;,
		&quot;Jeff Daniels&quot;
	],
	&quot;plot&quot; : &quot;During a manned mission to Mars, Astronaut Mark Watney is presumed dead after a fierce storm and left behind by his crew. But Watney has survived and finds himself stranded and alone on the hostile planet. With only meager supplies, he must draw upon his ingenuity, wit and spirit to subsist and find a way to signal to Earth that he is alive.&quot;,
	&quot;imdb&quot; : {
		&quot;id&quot; : &quot;tt3659388&quot;,
		&quot;rating&quot; : 8.2,
		&quot;votes&quot; : 187881
	},
	&quot;tomato&quot; : {
		&quot;meter&quot; : 93,
		&quot;image&quot; : &quot;certified&quot;,
		&quot;rating&quot; : 7.9,
		&quot;reviews&quot; : 280,
		&quot;fresh&quot; : 261,
		&quot;consensus&quot; : &quot;Smart, thrilling, and surprisingly funny, The Martian offers a faithful adaptation of the bestselling book that brings out the best in leading man Matt Damon and director Ridley Scott.&quot;,
		&quot;userMeter&quot; : 92,
		&quot;userRating&quot; : 4.3,
		&quot;userReviews&quot; : 104999
	},
	&quot;metacritic&quot; : 80,
	&quot;type&quot; : &quot;movie&quot;
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title"><strong>2. &#x6267;&#x884C;&#x6587;&#x6863;&#x66F4;&#x65B0;&#xFF0C;&#x6DFB;&#x52A0; poster &#x5C5E;&#x6027;</strong></div>
<div class="content">
<pre class="highlight"><code class="language-text" data-lang="text">MongoDB Enterprise Sandbox-shard-0:PRIMARY&gt; db.movieDetails.updateOne({title: &quot;The Martian&quot;}, {$set: {poster: &quot;http://ia.media-imdb.com/images/M/TTSSXFFFF&quot;}})
{ &quot;acknowledged&quot; : true, &quot;matchedCount&quot; : 1, &quot;modifiedCount&quot; : 1 }</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title"><strong>3. &#x67E5;&#x8BE2; title &#x4E3A; The Martian &#x7684;&#x7535;&#x5F71;</strong></div>
<div class="content">
<pre class="highlight"><code class="language-text" data-lang="text">MongoDB Enterprise Sandbox-shard-0:PRIMARY&gt; db.movieDetails.find({title: &quot;The Martian&quot;}, {title: 1, poster: 1}).pretty()
{
	&quot;_id&quot; : ObjectId(&quot;5ca3128f0ed7445cfc1b5ba8&quot;),
	&quot;title&quot; : &quot;The Martian&quot;,
	&quot;poster&quot; : &quot;http://ia.media-imdb.com/images/M/TTSSXFFFF&quot;
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title"><strong>4. &#x6267;&#x884C;&#x6587;&#x6863;&#x66F4;&#x65B0;&#xFF0C;&#x6DFB;&#x52A0; awards &#x6587;&#x6863;</strong></div>
<div class="content">
<pre class="highlight"><code class="language-text" data-lang="text">MongoDB Enterprise Sandbox-shard-0:PRIMARY&gt; db.movieDetails.updateOne({title: &quot;The Martian&quot;}, {$set: {&quot;awards&quot;: {&quot;wins&quot;: 8, &quot;nominations&quot;: 14, &quot;text&quot;: &quot;Nominated for 3 Golden Globes&quot;}}})
{ &quot;acknowledged&quot; : true, &quot;matchedCount&quot; : 1, &quot;modifiedCount&quot; : 1 }</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title"><strong>5. &#x67E5;&#x8BE2; title &#x4E3A; The Martian &#x7684;&#x7535;&#x5F71;</strong></div>
<div class="content">
<pre class="highlight"><code class="language-text" data-lang="text">MongoDB Enterprise Sandbox-shard-0:PRIMARY&gt; db.movieDetails.find({title: &quot;The Martian&quot;}, {title: 1, poster: 1, awards: 1}).pretty()
{
	&quot;_id&quot; : ObjectId(&quot;5ca3128f0ed7445cfc1b5ba8&quot;),
	&quot;title&quot; : &quot;The Martian&quot;,
	&quot;poster&quot; : &quot;http://ia.media-imdb.com/images/M/TTSSXFFFF&quot;,
	&quot;awards&quot; : {
		&quot;wins&quot; : 8,
		&quot;nominations&quot; : 14,
		&quot;text&quot; : &quot;Nominated for 3 Golden Globes&quot;
	}
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title"><strong>6. &#x589E;&#x52A0; tomato &#x7684; review &#x6B21;&#x6570; 3&#xFF0C;userReviews 25</strong></div>
<div class="content">
<pre class="highlight"><code class="language-text" data-lang="text">MongoDB Enterprise Sandbox-shard-0:PRIMARY&gt; db.movieDetails.find({title: &quot;The Martian&quot;}, {title: 1, tomato: 1}).pretty()
{
	&quot;_id&quot; : ObjectId(&quot;5ca3128f0ed7445cfc1b5ba8&quot;),
	&quot;title&quot; : &quot;The Martian&quot;,
	&quot;tomato&quot; : {
		&quot;meter&quot; : 93,
		&quot;image&quot; : &quot;certified&quot;,
		&quot;rating&quot; : 7.9,
		&quot;reviews&quot; : 280,
		&quot;fresh&quot; : 261,
		&quot;consensus&quot; : &quot;Smart, thrilling, and surprisingly funny, The Martian offers a faithful adaptation of the bestselling book that brings out the best in leading man Matt Damon and director Ridley Scott.&quot;,
		&quot;userMeter&quot; : 92,
		&quot;userRating&quot; : 4.3,
		&quot;userReviews&quot; : 104999
	}
}

MongoDB Enterprise Sandbox-shard-0:PRIMARY&gt; db.movieDetails.updateOne({title: &quot;The Martian&quot;}, {$inc: {&quot;tomato.reviews&quot;: 3, &quot;tomato.userReviews&quot;: 25}})
{ &quot;acknowledged&quot; : true, &quot;matchedCount&quot; : 1, &quot;modifiedCount&quot; : 1 }

MongoDB Enterprise Sandbox-shard-0:PRIMARY&gt; db.movieDetails.find({title: &quot;The Martian&quot;}, {title: 1, tomato: 1}).pretty()
{
	&quot;_id&quot; : ObjectId(&quot;5ca3128f0ed7445cfc1b5ba8&quot;),
	&quot;title&quot; : &quot;The Martian&quot;,
	&quot;tomato&quot; : {
		&quot;meter&quot; : 93,
		&quot;image&quot; : &quot;certified&quot;,
		&quot;rating&quot; : 7.9,
		&quot;reviews&quot; : 283,
		&quot;fresh&quot; : 261,
		&quot;consensus&quot; : &quot;Smart, thrilling, and surprisingly funny, The Martian offers a faithful adaptation of the bestselling book that brings out the best in leading man Matt Damon and director Ridley Scott.&quot;,
		&quot;userMeter&quot; : 92,
		&quot;userRating&quot; : 4.3,
		&quot;userReviews&quot; : 105024
	}
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title"><strong>7. &#x6DFB;&#x52A0;&#x4E00;&#x4E2A; array &#x5C5E;&#x6027; reviews</strong></div>
<div class="content">
<pre class="highlight"><code class="language-text" data-lang="text">MongoDB Enterprise Sandbox-shard-0:PRIMARY&gt; db.movieDetails.updateOne({title: &quot;The Martian&quot;}, {$push: {&quot;reviews&quot;: {&quot;rating&quot;: 4.5, &quot;date&quot;: ISODate(&quot;2019-04-02T09:00:00Z&quot;), &quot;reviewer&quot;: &quot;Kylin Soong&quot;, &quot;text&quot;: &quot;This is sample Review&quot;}}})
{ &quot;acknowledged&quot; : true, &quot;matchedCount&quot; : 1, &quot;modifiedCount&quot; : 1 }

MongoDB Enterprise Sandbox-shard-0:PRIMARY&gt; db.movieDetails.find({title: &quot;The Martian&quot;}, {title: 1, reviews: 1}).pretty()
{
	&quot;_id&quot; : ObjectId(&quot;5ca3128f0ed7445cfc1b5ba8&quot;),
	&quot;title&quot; : &quot;The Martian&quot;,
	&quot;reviews&quot; : [
		{
			&quot;rating&quot; : 4.5,
			&quot;date&quot; : ISODate(&quot;2019-04-02T09:00:00Z&quot;),
			&quot;reviewer&quot; : &quot;Kylin Soong&quot;,
			&quot;text&quot; : &quot;This is sample Review&quot;
		}
	]
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title"><strong>8. &#x6DFB;&#x52A0;&#x591A;&#x4E2A; reviews</strong></div>
<div class="content">
<pre class="highlight"><code class="language-text" data-lang="text">MongoDB Enterprise Sandbox-shard-0:PRIMARY&gt; db.movieDetails.updateOne({title: &quot;The Martian&quot;}, {$push: {&quot;reviews&quot;: {$each: [{&quot;rating&quot;: 4.5, &quot;date&quot;: ISODate(&quot;2019-04-02T09:01:00Z&quot;), &quot;reviewer&quot;: &quot;Kylin Soong&quot;, &quot;text&quot;: &quot;Reviewer 2&quot;},{&quot;rating&quot;: 4.5, &quot;date&quot;: ISODate(&quot;2019-04-02T09:03:00Z&quot;), &quot;reviewer&quot;: &quot;Kylin Soong&quot;, &quot;text&quot;: &quot;Reviewer 3&quot;},{&quot;rating&quot;: 4.5, &quot;date&quot;: ISODate(&quot;2019-04-02T09:04:00Z&quot;), &quot;reviewer&quot;: &quot;Kylin Soong&quot;, &quot;text&quot;: &quot;Reviewer 4&quot;}]}}})
{ &quot;acknowledged&quot; : true, &quot;matchedCount&quot; : 1, &quot;modifiedCount&quot; : 1 }

MongoDB Enterprise Sandbox-shard-0:PRIMARY&gt; db.movieDetails.find({title: &quot;The Martian&quot;}, {title: 1, reviews: 1}).pretty()
{
	&quot;_id&quot; : ObjectId(&quot;5ca3128f0ed7445cfc1b5ba8&quot;),
	&quot;title&quot; : &quot;The Martian&quot;,
	&quot;reviews&quot; : [
		{
			&quot;rating&quot; : 4.5,
			&quot;date&quot; : ISODate(&quot;2019-04-02T09:00:00Z&quot;),
			&quot;reviewer&quot; : &quot;Kylin Soong&quot;,
			&quot;text&quot; : &quot;This is sample Review&quot;
		},
		{
			&quot;rating&quot; : 4.5,
			&quot;date&quot; : ISODate(&quot;2019-04-02T09:01:00Z&quot;),
			&quot;reviewer&quot; : &quot;Kylin Soong&quot;,
			&quot;text&quot; : &quot;Reviewer 2&quot;
		},
		{
			&quot;rating&quot; : 4.5,
			&quot;date&quot; : ISODate(&quot;2019-04-02T09:03:00Z&quot;),
			&quot;reviewer&quot; : &quot;Kylin Soong&quot;,
			&quot;text&quot; : &quot;Reviewer 3&quot;
		},
		{
			&quot;rating&quot; : 4.5,
			&quot;date&quot; : ISODate(&quot;2019-04-02T09:04:00Z&quot;),
			&quot;reviewer&quot; : &quot;Kylin Soong&quot;,
			&quot;text&quot; : &quot;Reviewer 4&quot;
		}
	]
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title"><strong>9. &#x6839;&#x7CFB;&#x6240;&#x6709; rated &#x4E3A;&#x7A7A;&#x503C;&#x7684;&#x6587;&#x6863;</strong></div>
<div class="content">
<pre class="highlight"><code class="language-text" data-lang="text">MongoDB Enterprise Sandbox-shard-0:PRIMARY&gt; db.movieDetails.find({rated: null}).count()
1599

MongoDB Enterprise Sandbox-shard-0:PRIMARY&gt; db.movieDetails.updateMany({rated: null}, {$unset: {rated: &quot;&quot;}})
{ &quot;acknowledged&quot; : true, &quot;matchedCount&quot; : 1599, &quot;modifiedCount&quot; : 1599 }</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="___5">&#x6587;&#x6863;&#x66FF;&#x6362;</h3>
<div class="listingblock">
<div class="title"><strong>1. &#x6839;&#x636E;&#x6761;&#x4EF6;&#x67E5;&#x8BE2;</strong></div>
<div class="content">
<pre class="highlight"><code class="language-text" data-lang="text">MongoDB Enterprise Sandbox-shard-0:PRIMARY&gt; let filter = {title: &quot;House, M.D., Season Four: New Beginnings&quot;}

MongoDB Enterprise Sandbox-shard-0:PRIMARY&gt;let  doc = db.movieDetails.findOne(filter);
{
	&quot;_id&quot; : ObjectId(&quot;5ca3128f0ed7445cfc1b58f6&quot;),
	&quot;title&quot; : &quot;House, M.D., Season Four: New Beginnings&quot;,
	&quot;year&quot; : 2008,
	&quot;runtime&quot; : 26,
	&quot;countries&quot; : [
		&quot;USA&quot;
	],
	&quot;genres&quot; : [
		&quot;Documentary&quot;,
		&quot;Short&quot;
	],
	&quot;director&quot; : null,
	&quot;writers&quot; : [ ],
	&quot;actors&quot; : [
		&quot;Cyrus Deboo&quot;,
		&quot;Lisa Edelstein&quot;,
		&quot;Omar Epps&quot;,
		&quot;Christopher Fairbanks&quot;
	],
	&quot;plot&quot; : null,
	&quot;poster&quot; : null,
	&quot;imdb&quot; : {
		&quot;id&quot; : &quot;tt1329164&quot;,
		&quot;rating&quot; : 8.7,
		&quot;votes&quot; : 106
	},
	&quot;awards&quot; : {
		&quot;wins&quot; : 0,
		&quot;nominations&quot; : 0,
		&quot;text&quot; : &quot;&quot;
	},
	&quot;type&quot; : &quot;movie&quot;
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title"><strong>2. &#x8BBE;&#x5B9A; poster &#x503C;</strong></div>
<div class="content">
<pre class="highlight"><code class="language-text" data-lang="text">MongoDB Enterprise Sandbox-shard-0:PRIMARY&gt; doc.poster = &quot;https://www.imdb.com/title/tt1329164/mediaviewer/rm2619416576&quot;
https://www.imdb.com/title/tt1329164/mediaviewer/rm2619416576</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title"><strong>3. &#x7ED9; genres &#x4E2D;&#x6DFB;&#x52A0;&#x4E00;&#x4E2A;&#x5143;&#x7D20;</strong></div>
<div class="content">
<pre class="highlight"><code class="language-text" data-lang="text">MongoDB Enterprise Sandbox-shard-0:PRIMARY&gt; doc.genres.push(&quot;TV Series&quot;)
3</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title"><strong>4. &#x67E5;&#x770B; doc &#x503C;</strong></div>
<div class="content">
<pre class="highlight"><code class="language-text" data-lang="text">MongoDB Enterprise Sandbox-shard-0:PRIMARY&gt; doc
{
	&quot;_id&quot; : ObjectId(&quot;5ca3128f0ed7445cfc1b58f6&quot;),
	&quot;title&quot; : &quot;House, M.D., Season Four: New Beginnings&quot;,
	&quot;year&quot; : 2008,
	&quot;runtime&quot; : 26,
	&quot;countries&quot; : [
		&quot;USA&quot;
	],
	&quot;genres&quot; : [
		&quot;Documentary&quot;,
		&quot;Short&quot;,
		&quot;TV Series&quot;
	],
	&quot;director&quot; : null,
	&quot;writers&quot; : [ ],
	&quot;actors&quot; : [
		&quot;Cyrus Deboo&quot;,
		&quot;Lisa Edelstein&quot;,
		&quot;Omar Epps&quot;,
		&quot;Christopher Fairbanks&quot;
	],
	&quot;plot&quot; : null,
	&quot;poster&quot; : &quot;https://www.imdb.com/title/tt1329164/mediaviewer/rm2619416576&quot;,
	&quot;imdb&quot; : {
		&quot;id&quot; : &quot;tt1329164&quot;,
		&quot;rating&quot; : 8.7,
		&quot;votes&quot; : 106
	},
	&quot;awards&quot; : {
		&quot;wins&quot; : 0,
		&quot;nominations&quot; : 0,
		&quot;text&quot; : &quot;&quot;
	},
	&quot;type&quot; : &quot;movie&quot;
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title"><strong>5. &#x6267;&#x884C;&#x6587;&#x6863;&#x66FF;&#x6362;</strong></div>
<div class="content">
<pre class="highlight"><code class="language-text" data-lang="text">MongoDB Enterprise Sandbox-shard-0:PRIMARY&gt; db.movieDetails.replaceOne(filter, doc);
{ &quot;acknowledged&quot; : true, &quot;matchedCount&quot; : 1, &quot;modifiedCount&quot; : 1 }</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title"><strong>6. &#x67E5;&#x8BE2;&#x66FF;&#x6362;&#x540E;&#x7684;&#x6587;&#x6863;</strong></div>
<div class="content">
<pre class="highlight"><code class="language-text" data-lang="text">MongoDB Enterprise Sandbox-shard-0:PRIMARY&gt; db.movieDetails.findOne(filter)
{
	&quot;_id&quot; : ObjectId(&quot;5ca3128f0ed7445cfc1b58f6&quot;),
	&quot;title&quot; : &quot;House, M.D., Season Four: New Beginnings&quot;,
	&quot;year&quot; : 2008,
	&quot;runtime&quot; : 26,
	&quot;countries&quot; : [
		&quot;USA&quot;
	],
	&quot;genres&quot; : [
		&quot;Documentary&quot;,
		&quot;Short&quot;,
		&quot;TV Series&quot;
	],
	&quot;director&quot; : null,
	&quot;writers&quot; : [ ],
	&quot;actors&quot; : [
		&quot;Cyrus Deboo&quot;,
		&quot;Lisa Edelstein&quot;,
		&quot;Omar Epps&quot;,
		&quot;Christopher Fairbanks&quot;
	],
	&quot;plot&quot; : null,
	&quot;poster&quot; : &quot;https://www.imdb.com/title/tt1329164/mediaviewer/rm2619416576&quot;,
	&quot;imdb&quot; : {
		&quot;id&quot; : &quot;tt1329164&quot;,
		&quot;rating&quot; : 8.7,
		&quot;votes&quot; : 106
	},
	&quot;awards&quot; : {
		&quot;wins&quot; : 0,
		&quot;nominations&quot; : 0,
		&quot;text&quot; : &quot;&quot;
	},
	&quot;type&quot; : &quot;movie&quot;
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="___6">&#x6587;&#x6863;&#x5220;&#x9664;</h3>
<div class="listingblock">
<div class="title"><strong>1. &#x51C6;&#x5907;&#x6570;&#x636E;&#xFF0C;&#x521B;&#x5EFA; loadReviewsDataset.js &#x6587;&#x4EF6;&#xFF0C;&#x5185;&#x5BB9;&#x5982;&#x4E0B;</strong></div>
<div class="content">
<pre class="highlight"><code class="language-text" data-lang="text">db = db.getSiblingDB(&quot;video&quot;);
db.reviews.drop();
db.reviews.insertMany([
...</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title"><strong>2. &#x5BFC;&#x5165;&#x6570;&#x636E;</strong></div>
<div class="content">
<pre class="highlight"><code class="language-text" data-lang="text">$ mongo &quot;mongodb+srv://sandbox-jsdhf.mongodb.net/video&quot; --username m001-student --password m001-mongodb-basics loadReviewsDataset.js</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title"><strong>3. &#x67E5;&#x770B;&#x5BFC;&#x5165;&#x7684;&#x6570;&#x636E;</strong></div>
<div class="content">
<pre class="highlight"><code class="language-text" data-lang="text">MongoDB Enterprise Sandbox-shard-0:PRIMARY&gt; use video
switched to db video

MongoDB Enterprise Sandbox-shard-0:PRIMARY&gt; db.reviews.find().count()
20</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title"><strong>4. &#x6839;&#x636E; ID &#x5220;&#x9664;</strong></div>
<div class="content">
<pre class="highlight"><code class="language-text" data-lang="text">MongoDB Enterprise Sandbox-shard-0:PRIMARY&gt; db.reviews.deleteOne({_id: ObjectId(&quot;5c930f3cea4690b776113acd&quot;)})
{ &quot;acknowledged&quot; : true, &quot;deletedCount&quot; : 1 }</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title"><strong>5. &#x5220;&#x9664;&#x591A;&#x4E2A;&#x6587;&#x6863;</strong></div>
<div class="content">
<pre class="highlight"><code class="language-text" data-lang="text">MongoDB Enterprise Sandbox-shard-0:PRIMARY&gt; db.reviews.deleteMany({reviewer_id: 759723314})
{ &quot;acknowledged&quot; : true, &quot;deletedCount&quot; : 3 }</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title"><strong>6. &#x67E5;&#x770B;&#x5269;&#x4F59;&#x6587;&#x6863;&#x603B;&#x6570;</strong></div>
<div class="content">
<pre class="highlight"><code class="language-text" data-lang="text">MongoDB Enterprise Sandbox-shard-0:PRIMARY&gt; db.reviews.find().count()
16</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="___7">&#x9AD8;&#x7EA7;&#x67E5;&#x8BE2;</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_comparison_operators">Comparison Operators</h3>
<div class="listingblock">
<div class="title"><strong>1. &#x67E5;&#x770B;&#x6240;&#x6709;&#x7535;&#x5F71;&#x7684;&#x603B;&#x6570;</strong></div>
<div class="content">
<pre class="highlight"><code class="language-text" data-lang="text">MongoDB Enterprise Sandbox-shard-0:PRIMARY&gt; db.movieDetails.count()
2295</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title"><strong>2. &#x67E5;&#x8BE2;&#x6240;&#x6709;&#x957F;&#x5EA6;&#x5927;&#x4E8E; 90 &#x5206;&#x949F;&#x7684;&#x7535;&#x5F71;</strong></div>
<div class="content">
<pre class="highlight"><code class="language-text" data-lang="text">MongoDB Enterprise Sandbox-shard-0:PRIMARY&gt; db.movieDetails.find({runtime: {$gt: 90}}, {_id: 0, title: 1, runtime: 1})
{ &quot;title&quot; : &quot;Once Upon a Time in the West&quot;, &quot;runtime&quot; : 175 }
{ &quot;title&quot; : &quot;A Million Ways to Die in the West&quot;, &quot;runtime&quot; : 116 }
{ &quot;title&quot; : &quot;Wild Wild West&quot;, &quot;runtime&quot; : 106 }
{ &quot;title&quot; : &quot;West Side Story&quot;, &quot;runtime&quot; : 152 }
{ &quot;title&quot; : &quot;Red Rock West&quot;, &quot;runtime&quot; : 98 }
{ &quot;title&quot; : &quot;How the West Was Won&quot;, &quot;runtime&quot; : 164 }
{ &quot;title&quot; : &quot;Journey to the West&quot;, &quot;runtime&quot; : 110 }
{ &quot;title&quot; : &quot;West of Memphis&quot;, &quot;runtime&quot; : 147 }
{ &quot;title&quot; : &quot;Star Wars: Episode IV - A New Hope&quot;, &quot;runtime&quot; : 121 }
{ &quot;title&quot; : &quot;Star Wars: Episode V - The Empire Strikes Back&quot;, &quot;runtime&quot; : 124 }
{ &quot;title&quot; : &quot;Star Wars: Episode VI - Return of the Jedi&quot;, &quot;runtime&quot; : 131 }
{ &quot;title&quot; : &quot;Star Wars: Episode I - The Phantom Menace&quot;, &quot;runtime&quot; : 136 }
{ &quot;title&quot; : &quot;Star Wars: Episode III - Revenge of the Sith&quot;, &quot;runtime&quot; : 140 }
{ &quot;title&quot; : &quot;Star Trek&quot;, &quot;runtime&quot; : 127 }
{ &quot;title&quot; : &quot;Star Wars: Episode II - Attack of the Clones&quot;, &quot;runtime&quot; : 142 }
{ &quot;title&quot; : &quot;Star Trek Into Darkness&quot;, &quot;runtime&quot; : 132 }
{ &quot;title&quot; : &quot;Star Trek: First Contact&quot;, &quot;runtime&quot; : 111 }
{ &quot;title&quot; : &quot;Star Trek II: The Wrath of Khan&quot;, &quot;runtime&quot; : 113 }
{ &quot;title&quot; : &quot;Dr. Strangelove or: How I Learned to Stop Worrying and Love the Bomb&quot;, &quot;runtime&quot; : 95 }
{ &quot;title&quot; : &quot;Love Actually&quot;, &quot;runtime&quot; : 135 }
Type &quot;it&quot; for more</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title"><strong>3. &#x67E5;&#x8BE2;&#x6240;&#x6709;&#x957F;&#x5EA6;&#x5927;&#x4E8E; 90 &#x5206;&#x949F;&#x4E14;&#x5C0F;&#x4E8E; 120 &#x5206;&#x949F;&#x7684;&#x7535;&#x5F71;</strong></div>
<div class="content">
<pre class="highlight"><code class="language-text" data-lang="text">MongoDB Enterprise Sandbox-shard-0:PRIMARY&gt; db.movieDetails.find({runtime: {$gt: 90, $lt: 120}}, {_id: 0, title: 1, runtime: 1})
{ &quot;title&quot; : &quot;A Million Ways to Die in the West&quot;, &quot;runtime&quot; : 116 }
{ &quot;title&quot; : &quot;Wild Wild West&quot;, &quot;runtime&quot; : 106 }
{ &quot;title&quot; : &quot;Red Rock West&quot;, &quot;runtime&quot; : 98 }
{ &quot;title&quot; : &quot;Journey to the West&quot;, &quot;runtime&quot; : 110 }
{ &quot;title&quot; : &quot;Star Trek: First Contact&quot;, &quot;runtime&quot; : 111 }
{ &quot;title&quot; : &quot;Star Trek II: The Wrath of Khan&quot;, &quot;runtime&quot; : 113 }
{ &quot;title&quot; : &quot;Dr. Strangelove or: How I Learned to Stop Worrying and Love the Bomb&quot;, &quot;runtime&quot; : 95 }
{ &quot;title&quot; : &quot;I Love You, Man&quot;, &quot;runtime&quot; : 105 }
{ &quot;title&quot; : &quot;Love &amp; Other Drugs&quot;, &quot;runtime&quot; : 112 }
{ &quot;title&quot; : &quot;Punch-Drunk Love&quot;, &quot;runtime&quot; : 95 }
{ &quot;title&quot; : &quot;From Paris with Love&quot;, &quot;runtime&quot; : 92 }
{ &quot;title&quot; : &quot;From Russia with Love&quot;, &quot;runtime&quot; : 115 }
{ &quot;title&quot; : &quot;I Love You Phillip Morris&quot;, &quot;runtime&quot; : 98 }
{ &quot;title&quot; : &quot;Zathura: A Space Adventure&quot;, &quot;runtime&quot; : 101 }
{ &quot;title&quot; : &quot;Turks in Space&quot;, &quot;runtime&quot; : 110 }
{ &quot;title&quot; : &quot;2001: A Space Travesty&quot;, &quot;runtime&quot; : 99 }
{ &quot;title&quot; : &quot;The Adventures of Tintin&quot;, &quot;runtime&quot; : 107 }
{ &quot;title&quot; : &quot;The Adventures of Robin Hood&quot;, &quot;runtime&quot; : 102 }
{ &quot;title&quot; : &quot;The Adventures of Priscilla, Queen of the Desert&quot;, &quot;runtime&quot; : 104 }
{ &quot;title&quot; : &quot;Adventures in Babysitting&quot;, &quot;runtime&quot; : 102 }
Type &quot;it&quot; for more</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title"><strong>4. &#x67E5;&#x8BE2;&#x6240;&#x6709;&#x957F;&#x5EA6;&#x5927;&#x4E8E;&#x6216;&#x7B49;&#x4E8E; 90 &#x5206;&#x949F;&#x4E14;&#x5C0F;&#x4E8E;&#x6216;&#x7B49;&#x4E8E; 120 &#x5206;&#x949F;&#x7684;&#x7535;&#x5F71;</strong></div>
<div class="content">
<pre class="highlight"><code class="language-text" data-lang="text">MongoDB Enterprise Sandbox-shard-0:PRIMARY&gt; db.movieDetails.find({runtime: {$gte: 90, $lte: 120}}, {_id: 0, title: 1, runtime: 1})
{ &quot;title&quot; : &quot;A Million Ways to Die in the West&quot;, &quot;runtime&quot; : 116 }
{ &quot;title&quot; : &quot;Wild Wild West&quot;, &quot;runtime&quot; : 106 }
{ &quot;title&quot; : &quot;Red Rock West&quot;, &quot;runtime&quot; : 98 }
{ &quot;title&quot; : &quot;Journey to the West&quot;, &quot;runtime&quot; : 110 }
{ &quot;title&quot; : &quot;Star Trek: First Contact&quot;, &quot;runtime&quot; : 111 }
{ &quot;title&quot; : &quot;Star Trek II: The Wrath of Khan&quot;, &quot;runtime&quot; : 113 }
{ &quot;title&quot; : &quot;Dr. Strangelove or: How I Learned to Stop Worrying and Love the Bomb&quot;, &quot;runtime&quot; : 95 }
{ &quot;title&quot; : &quot;I Love You, Man&quot;, &quot;runtime&quot; : 105 }
{ &quot;title&quot; : &quot;Love &amp; Other Drugs&quot;, &quot;runtime&quot; : 112 }
{ &quot;title&quot; : &quot;Punch-Drunk Love&quot;, &quot;runtime&quot; : 95 }
{ &quot;title&quot; : &quot;From Paris with Love&quot;, &quot;runtime&quot; : 92 }
{ &quot;title&quot; : &quot;From Russia with Love&quot;, &quot;runtime&quot; : 115 }
{ &quot;title&quot; : &quot;I Love You Phillip Morris&quot;, &quot;runtime&quot; : 98 }
{ &quot;title&quot; : &quot;Zathura: A Space Adventure&quot;, &quot;runtime&quot; : 101 }
{ &quot;title&quot; : &quot;Turks in Space&quot;, &quot;runtime&quot; : 110 }
{ &quot;title&quot; : &quot;2001: A Space Travesty&quot;, &quot;runtime&quot; : 99 }
{ &quot;title&quot; : &quot;The Adventures of Tintin&quot;, &quot;runtime&quot; : 107 }
{ &quot;title&quot; : &quot;The Adventures of Robin Hood&quot;, &quot;runtime&quot; : 102 }
{ &quot;title&quot; : &quot;The Adventures of Priscilla, Queen of the Desert&quot;, &quot;runtime&quot; : 104 }
{ &quot;title&quot; : &quot;Adventures in Babysitting&quot;, &quot;runtime&quot; : 102 }
Type &quot;it&quot; for more</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title"><strong>5. &#x67E5;&#x8BE2;&#x6240;&#x6709;&#x957F;&#x5EA6;&#x5927;&#x4E8E;&#x6216;&#x7B49;&#x4E8E; 180 &#x5206;&#x949F;&#x4E14;&#x70C2;&#x756A;&#x8304;&#x7F51;&#x7AD9;&#x8BC4;&#x5206;&#x5927;&#x4E8E;&#x6216;&#x7B49;&#x4E8E; 95 &#x5206;&#x7684;&#x7535;&#x5F71;</strong></div>
<div class="content">
<pre class="highlight"><code class="language-text" data-lang="text">MongoDB Enterprise Sandbox-shard-0:PRIMARY&gt; db.movieDetails.find({runtime: {$gte: 180}, &quot;tomato.meter&quot;: {$gte: 95}}, {_id: 0, title: 1, runtime: 1})
{ &quot;title&quot; : &quot;Lagaan: Once Upon a Time in India&quot;, &quot;runtime&quot; : 224 }
{ &quot;title&quot; : &quot;The Godfather: Part II&quot;, &quot;runtime&quot; : 202 }</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title"><strong>6. &#x67E5;&#x770B;&#x6240;&#x6709;&#x88AB;&#x6807;&#x8BB0;&#x4E86;&#x7684;&#x7535;&#x5F71;</strong></div>
<div class="content">
<pre class="highlight"><code class="language-text" data-lang="text">MongoDB Enterprise Sandbox-shard-0:PRIMARY&gt; db.movieDetails.find({rated: {$ne: &quot;UNRATED&quot;}}, {_id: 0, title: 1, rated: 1})
{ &quot;title&quot; : &quot;Once Upon a Time in the West&quot;, &quot;rated&quot; : &quot;PG-13&quot; }
{ &quot;title&quot; : &quot;A Million Ways to Die in the West&quot;, &quot;rated&quot; : &quot;R&quot; }
{ &quot;title&quot; : &quot;Wild Wild West&quot;, &quot;rated&quot; : &quot;PG-13&quot; }
{ &quot;title&quot; : &quot;Slow West&quot;, &quot;rated&quot; : &quot;R&quot; }
{ &quot;title&quot; : &quot;An American Tail: Fievel Goes West&quot;, &quot;rated&quot; : &quot;G&quot; }
{ &quot;title&quot; : &quot;Red Rock West&quot;, &quot;rated&quot; : &quot;R&quot; }
{ &quot;title&quot; : &quot;How the West Was Won&quot;, &quot;rated&quot; : &quot;APPROVED&quot; }
{ &quot;title&quot; : &quot;Journey to the West&quot;, &quot;rated&quot; : &quot;PG-13&quot; }
{ &quot;title&quot; : &quot;West of Memphis&quot;, &quot;rated&quot; : &quot;R&quot; }
{ &quot;title&quot; : &quot;Star Wars: Episode IV - A New Hope&quot;, &quot;rated&quot; : &quot;PG&quot; }
{ &quot;title&quot; : &quot;Star Wars: Episode V - The Empire Strikes Back&quot;, &quot;rated&quot; : &quot;PG&quot; }
{ &quot;title&quot; : &quot;Star Wars: Episode VI - Return of the Jedi&quot;, &quot;rated&quot; : &quot;PG&quot; }
{ &quot;title&quot; : &quot;Star Wars: Episode I - The Phantom Menace&quot;, &quot;rated&quot; : &quot;PG&quot; }
{ &quot;title&quot; : &quot;Star Wars: Episode III - Revenge of the Sith&quot;, &quot;rated&quot; : &quot;PG-13&quot; }
{ &quot;title&quot; : &quot;Star Trek&quot;, &quot;rated&quot; : &quot;PG-13&quot; }
{ &quot;title&quot; : &quot;Star Wars: Episode II - Attack of the Clones&quot;, &quot;rated&quot; : &quot;PG&quot; }
{ &quot;title&quot; : &quot;Star Trek Into Darkness&quot;, &quot;rated&quot; : &quot;PG-13&quot; }
{ &quot;title&quot; : &quot;Star Trek: First Contact&quot;, &quot;rated&quot; : &quot;PG-13&quot; }
{ &quot;title&quot; : &quot;Star Trek II: The Wrath of Khan&quot;, &quot;rated&quot; : &quot;PG&quot; }
{ &quot;title&quot; : &quot;Dr. Strangelove or: How I Learned to Stop Worrying and Love the Bomb&quot;, &quot;rated&quot; : &quot;PG&quot; }
Type &quot;it&quot; for more</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title"><strong>7. &#x67E5;&#x770B;&#x6240;&#x6709;&#x88AB;&#x6807;&#x8BB0;&#x4E86; G &#x548C; PG &#x7684;&#x7535;&#x5F71;</strong></div>
<div class="content">
<pre class="highlight"><code class="language-text" data-lang="text">MongoDB Enterprise Sandbox-shard-0:PRIMARY&gt; db.movieDetails.find({rated: {$in: [&quot;G&quot;, &quot;PG&quot;]}}, {_id: 0, title: 1, rated: 1})
{ &quot;title&quot; : &quot;An American Tail: Fievel Goes West&quot;, &quot;rated&quot; : &quot;G&quot; }
{ &quot;title&quot; : &quot;Star Wars: Episode IV - A New Hope&quot;, &quot;rated&quot; : &quot;PG&quot; }
{ &quot;title&quot; : &quot;Star Wars: Episode V - The Empire Strikes Back&quot;, &quot;rated&quot; : &quot;PG&quot; }
{ &quot;title&quot; : &quot;Star Wars: Episode VI - Return of the Jedi&quot;, &quot;rated&quot; : &quot;PG&quot; }
{ &quot;title&quot; : &quot;Star Wars: Episode I - The Phantom Menace&quot;, &quot;rated&quot; : &quot;PG&quot; }
{ &quot;title&quot; : &quot;Star Wars: Episode II - Attack of the Clones&quot;, &quot;rated&quot; : &quot;PG&quot; }
{ &quot;title&quot; : &quot;Star Trek II: The Wrath of Khan&quot;, &quot;rated&quot; : &quot;PG&quot; }
{ &quot;title&quot; : &quot;Dr. Strangelove or: How I Learned to Stop Worrying and Love the Bomb&quot;, &quot;rated&quot; : &quot;PG&quot; }
{ &quot;title&quot; : &quot;2001: A Space Odyssey&quot;, &quot;rated&quot; : &quot;G&quot; }
{ &quot;title&quot; : &quot;Zathura: A Space Adventure&quot;, &quot;rated&quot; : &quot;PG&quot; }
{ &quot;title&quot; : &quot;Muppets from Space&quot;, &quot;rated&quot; : &quot;G&quot; }
{ &quot;title&quot; : &quot;Space Chimps&quot;, &quot;rated&quot; : &quot;G&quot; }
{ &quot;title&quot; : &quot;The Adventures of Tintin&quot;, &quot;rated&quot; : &quot;PG&quot; }
{ &quot;title&quot; : &quot;The Adventures of Baron Munchausen&quot;, &quot;rated&quot; : &quot;PG&quot; }
{ &quot;title&quot; : &quot;The Adventures of Robin Hood&quot;, &quot;rated&quot; : &quot;PG&quot; }
{ &quot;title&quot; : &quot;The Many Adventures of Winnie the Pooh&quot;, &quot;rated&quot; : &quot;G&quot; }
{ &quot;title&quot; : &quot;The Adventures of Sharkboy and Lavagirl 3-D&quot;, &quot;rated&quot; : &quot;PG&quot; }
{ &quot;title&quot; : &quot;The Adventures of Buckaroo Banzai Across the 8th Dimension&quot;, &quot;rated&quot; : &quot;PG&quot; }
{ &quot;title&quot; : &quot;The Adventures of Rocky &amp; Bullwinkle&quot;, &quot;rated&quot; : &quot;PG&quot; }
{ &quot;title&quot; : &quot;The Extraordinary Adventures of Ad&#xE8;le Blanc-Sec&quot;, &quot;rated&quot; : &quot;PG&quot; }
Type &quot;it&quot; for more</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title"><strong>8. &#x67E5;&#x770B;&#x7535;&#x5F71;&#x7684;&#x5199;&#x4F5C;&#x8005;&#x662F; Ethan Coen &#x6216; Joel Coen &#x7684;&#x7535;&#x5F71;&#x7684;&#x603B;&#x6570;</strong></div>
<div class="content">
<pre class="highlight"><code class="language-text" data-lang="text">MongoDB Enterprise Sandbox-shard-0:PRIMARY&gt; db.movieDetails.find({writers: {$in: [&quot;Ethan Coen&quot;, &quot;Joel Coen&quot;]}}).count()
3</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_element_operators">Element Operators</h3>
<div class="listingblock">
<div class="title"><strong>1. &#x67E5;&#x770B;&#x70C2;&#x756A;&#x8304;&#x4E0A;&#x5B58;&#x5728;&#x8BC4;&#x8BBA;&#x7684;&#x7535;&#x5F71;</strong></div>
<div class="content">
<pre class="highlight"><code class="language-text" data-lang="text">MongoDB Enterprise Sandbox-shard-0:PRIMARY&gt; db.movieDetails.find({&quot;tomato.consensus&quot;: {$exists: true}}, {_id: 0, title: 1})
{ &quot;title&quot; : &quot;Once Upon a Time in the West&quot; }
{ &quot;title&quot; : &quot;A Million Ways to Die in the West&quot; }
{ &quot;title&quot; : &quot;Wild Wild West&quot; }
{ &quot;title&quot; : &quot;Slow West&quot; }
{ &quot;title&quot; : &quot;Journey to the West&quot; }
{ &quot;title&quot; : &quot;West of Memphis&quot; }
{ &quot;title&quot; : &quot;Star Wars: Episode IV - A New Hope&quot; }
{ &quot;title&quot; : &quot;Star Wars: Episode V - The Empire Strikes Back&quot; }
{ &quot;title&quot; : &quot;Star Wars: Episode VI - Return of the Jedi&quot; }
{ &quot;title&quot; : &quot;Star Wars: Episode III - Revenge of the Sith&quot; }
{ &quot;title&quot; : &quot;Star Trek&quot; }
{ &quot;title&quot; : &quot;Star Wars: Episode II - Attack of the Clones&quot; }
{ &quot;title&quot; : &quot;Star Trek Into Darkness&quot; }
{ &quot;title&quot; : &quot;Star Trek: First Contact&quot; }
{ &quot;title&quot; : &quot;Star Trek II: The Wrath of Khan&quot; }
{ &quot;title&quot; : &quot;Dr. Strangelove or: How I Learned to Stop Worrying and Love the Bomb&quot; }
{ &quot;title&quot; : &quot;Love Actually&quot; }
{ &quot;title&quot; : &quot;Shakespeare in Love&quot; }
{ &quot;title&quot; : &quot;I Love You, Man&quot; }
{ &quot;title&quot; : &quot;Love &amp; Other Drugs&quot; }
Type &quot;it&quot; for more</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title"><strong>2. &#x67E5;&#x770B;&#x70C2;&#x756A;&#x8304;&#x4E0A;&#x4E0D;&#x5B58;&#x5728;&#x8BC4;&#x8BBA;&#x7684;&#x7535;&#x5F71;</strong></div>
<div class="content">
<pre class="highlight"><code class="language-text" data-lang="text">MongoDB Enterprise Sandbox-shard-0:PRIMARY&gt; db.movieDetails.find({&quot;tomato.consensus&quot;: {$exists: false}}, {_id: 0, title: 1})
{ &quot;title&quot; : &quot;West Side Story&quot; }
{ &quot;title&quot; : &quot;An American Tail: Fievel Goes West&quot; }
{ &quot;title&quot; : &quot;Red Rock West&quot; }
{ &quot;title&quot; : &quot;How the West Was Won&quot; }
{ &quot;title&quot; : &quot;Star Wars: Episode I - The Phantom Menace&quot; }
{ &quot;title&quot; : &quot;P.S. I Love You&quot; }
{ &quot;title&quot; : &quot;From Russia with Love&quot; }
{ &quot;title&quot; : &quot;Plan 9 from Outer Space&quot; }
{ &quot;title&quot; : &quot;Muppets from Space&quot; }
{ &quot;title&quot; : &quot;Turks in Space&quot; }
{ &quot;title&quot; : &quot;2001: A Space Travesty&quot; }
{ &quot;title&quot; : &quot;Adventures in Babysitting&quot; }
{ &quot;title&quot; : &quot;The Many Adventures of Winnie the Pooh&quot; }
{ &quot;title&quot; : &quot;The Adventures of Buckaroo Banzai Across the 8th Dimension&quot; }
{ &quot;title&quot; : &quot;The Extraordinary Adventures of Ad&#xE8;le Blanc-Sec&quot; }
{ &quot;title&quot; : &quot;The Last Picture Show&quot; }
{ &quot;title&quot; : &quot;The Greatest Show on Earth&quot; }
{ &quot;title&quot; : &quot;There&apos;s No Business Like Show Business&quot; }
{ &quot;title&quot; : &quot;Show Boat&quot; }
{ &quot;title&quot; : &quot;Show People&quot; }
Type &quot;it&quot; for more</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title"><strong>3. &#x67E5;&#x770B; metacritic &#x7C7B;&#x578B;&#x4E3A; Double &#x7684;&#x7535;&#x5F71;</strong></div>
<div class="content">
<pre class="highlight"><code class="language-text" data-lang="text">MongoDB Enterprise Sandbox-shard-0:PRIMARY&gt; db.movieDetails.find({metacritic: {$type: &quot;double&quot;}}, {_id: 0, title: 1})
{ &quot;title&quot; : &quot;Once Upon a Time in the West&quot; }
{ &quot;title&quot; : &quot;A Million Ways to Die in the West&quot; }
{ &quot;title&quot; : &quot;Wild Wild West&quot; }
{ &quot;title&quot; : &quot;Slow West&quot; }
{ &quot;title&quot; : &quot;Journey to the West&quot; }
{ &quot;title&quot; : &quot;West of Memphis&quot; }
{ &quot;title&quot; : &quot;Star Wars: Episode IV - A New Hope&quot; }
{ &quot;title&quot; : &quot;Star Wars: Episode V - The Empire Strikes Back&quot; }
{ &quot;title&quot; : &quot;Star Wars: Episode VI - Return of the Jedi&quot; }
{ &quot;title&quot; : &quot;Star Wars: Episode I - The Phantom Menace&quot; }
{ &quot;title&quot; : &quot;Star Wars: Episode III - Revenge of the Sith&quot; }
{ &quot;title&quot; : &quot;Star Trek&quot; }
{ &quot;title&quot; : &quot;Star Wars: Episode II - Attack of the Clones&quot; }
{ &quot;title&quot; : &quot;Star Trek Into Darkness&quot; }
{ &quot;title&quot; : &quot;Star Trek: First Contact&quot; }
{ &quot;title&quot; : &quot;Star Trek II: The Wrath of Khan&quot; }
{ &quot;title&quot; : &quot;Dr. Strangelove or: How I Learned to Stop Worrying and Love the Bomb&quot; }
{ &quot;title&quot; : &quot;Love Actually&quot; }
{ &quot;title&quot; : &quot;Shakespeare in Love&quot; }
{ &quot;title&quot; : &quot;I Love You, Man&quot; }
Type &quot;it&quot; for more</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_logical_operators">Logical Operators</h3>
<div class="listingblock">
<div class="title"><strong>1. &#x67E5;&#x627E;&#x70C2;&#x756A;&#x8304;&#x4E0A;&#x8BC4;&#x5206;&#x5927;&#x4E8E; 95 &#x5206;&#x6216; metacritic &#x8BC4;&#x5206;&#x5927;&#x4E8E; 88 &#x5206;&#x7684;&#x7535;&#x5F71;</strong></div>
<div class="content">
<pre class="highlight"><code class="language-text" data-lang="text">MongoDB Enterprise Sandbox-shard-0:PRIMARY&gt; db.movieDetails.find({$or: [{&quot;tomato.meter&quot;: {$gt: 95}}, {&quot;metacritic&quot;: {$gt: 88}}]}, {_id: 0, title: 1, &quot;tomato.meter&quot;: 1, metacritic: 1})
{ &quot;title&quot; : &quot;Once Upon a Time in the West&quot;, &quot;tomato&quot; : { &quot;meter&quot; : 98 }, &quot;metacritic&quot; : 80 }
{ &quot;title&quot; : &quot;Star Wars: Episode IV - A New Hope&quot;, &quot;tomato&quot; : { &quot;meter&quot; : 94 }, &quot;metacritic&quot; : 92 }
{ &quot;title&quot; : &quot;Dr. Strangelove or: How I Learned to Stop Worrying and Love the Bomb&quot;, &quot;tomato&quot; : { &quot;meter&quot; : 99 }, &quot;metacritic&quot; : 96 }
{ &quot;title&quot; : &quot;2001: A Space Odyssey&quot;, &quot;tomato&quot; : { &quot;meter&quot; : 96 }, &quot;metacritic&quot; : 86 }
{ &quot;title&quot; : &quot;The Adventures of Robin Hood&quot;, &quot;tomato&quot; : { &quot;meter&quot; : 100 }, &quot;metacritic&quot; : 97 }
{ &quot;title&quot; : &quot;The Truman Show&quot;, &quot;tomato&quot; : { &quot;meter&quot; : 94 }, &quot;metacritic&quot; : 90 }
{ &quot;title&quot; : &quot;Quiz Show&quot;, &quot;tomato&quot; : { &quot;meter&quot; : 96 }, &quot;metacritic&quot; : 88 }
{ &quot;title&quot; : &quot;Evil Dead II&quot;, &quot;tomato&quot; : { &quot;meter&quot; : 98 }, &quot;metacritic&quot; : 69 }
{ &quot;title&quot; : &quot;Alien&quot;, &quot;tomato&quot; : { &quot;meter&quot; : 97 }, &quot;metacritic&quot; : 83 }
{ &quot;title&quot; : &quot;The Kid with a Bike&quot;, &quot;tomato&quot; : { &quot;meter&quot; : 96 }, &quot;metacritic&quot; : 87 }
{ &quot;title&quot; : &quot;Drugstore Cowboy&quot;, &quot;tomato&quot; : { &quot;meter&quot; : 100 }, &quot;metacritic&quot; : 82 }
{ &quot;title&quot; : &quot;Raiders of the Lost Ark&quot;, &quot;tomato&quot; : { &quot;meter&quot; : 96 }, &quot;metacritic&quot; : 90 }
{ &quot;title&quot; : &quot;Lost in Translation&quot;, &quot;tomato&quot; : { &quot;meter&quot; : 95 }, &quot;metacritic&quot; : 89 }
{ &quot;title&quot; : &quot;Big&quot;, &quot;tomato&quot; : { &quot;meter&quot; : 97 }, &quot;metacritic&quot; : 72 }
{ &quot;title&quot; : &quot;Groundhog Day&quot;, &quot;tomato&quot; : { &quot;meter&quot; : 96 }, &quot;metacritic&quot; : 72 }
{ &quot;title&quot; : &quot;The Night of the Hunter&quot;, &quot;tomato&quot; : { &quot;meter&quot; : 98 }, &quot;metacritic&quot; : 99 }
{ &quot;title&quot; : &quot;Toy Story&quot;, &quot;tomato&quot; : { &quot;meter&quot; : 100 }, &quot;metacritic&quot; : 92 }
{ &quot;title&quot; : &quot;Toy Story 3&quot;, &quot;tomato&quot; : { &quot;meter&quot; : 99 }, &quot;metacritic&quot; : 92 }
{ &quot;title&quot; : &quot;Toy Story 2&quot;, &quot;tomato&quot; : { &quot;meter&quot; : 100 }, &quot;metacritic&quot; : 88 }
{ &quot;title&quot; : &quot;The Straight Story&quot;, &quot;tomato&quot; : { &quot;meter&quot; : 96 }, &quot;metacritic&quot; : 86 }
Type &quot;it&quot; for more</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title"><strong>2. &#x67E5;&#x627E;&#x70C2;&#x756A;&#x8304;&#x4E0A;&#x8BC4;&#x5206;&#x5927;&#x4E8E; 95 &#x5206;&#x5E76;&#x4E14; metacritic &#x8BC4;&#x5206;&#x5927;&#x4E8E; 88 &#x5206;&#x7684;&#x7535;&#x5F71;</strong></div>
<div class="content">
<pre class="highlight"><code class="language-text" data-lang="text">MongoDB Enterprise Sandbox-shard-0:PRIMARY&gt; db.movieDetails.find({$and: [{&quot;tomato.meter&quot;: {$gt: 95}}, {&quot;metacritic&quot;: {$gt: 88}}]}, {_id: 0, title: 1, &quot;tomato.meter&quot;: 1, metacritic: 1})
{ &quot;title&quot; : &quot;Dr. Strangelove or: How I Learned to Stop Worrying and Love the Bomb&quot;, &quot;tomato&quot; : { &quot;meter&quot; : 99 }, &quot;metacritic&quot; : 96 }
{ &quot;title&quot; : &quot;The Adventures of Robin Hood&quot;, &quot;tomato&quot; : { &quot;meter&quot; : 100 }, &quot;metacritic&quot; : 97 }
{ &quot;title&quot; : &quot;Raiders of the Lost Ark&quot;, &quot;tomato&quot; : { &quot;meter&quot; : 96 }, &quot;metacritic&quot; : 90 }
{ &quot;title&quot; : &quot;The Night of the Hunter&quot;, &quot;tomato&quot; : { &quot;meter&quot; : 98 }, &quot;metacritic&quot; : 99 }
{ &quot;title&quot; : &quot;Toy Story&quot;, &quot;tomato&quot; : { &quot;meter&quot; : 100 }, &quot;metacritic&quot; : 92 }
{ &quot;title&quot; : &quot;Toy Story 3&quot;, &quot;tomato&quot; : { &quot;meter&quot; : 99 }, &quot;metacritic&quot; : 92 }
{ &quot;title&quot; : &quot;The Wizard of Oz&quot;, &quot;tomato&quot; : { &quot;meter&quot; : 99 }, &quot;metacritic&quot; : 100 }
{ &quot;title&quot; : &quot;L.A. Confidential&quot;, &quot;tomato&quot; : { &quot;meter&quot; : 99 }, &quot;metacritic&quot; : 90 }
{ &quot;title&quot; : &quot;La Dolce Vita&quot;, &quot;tomato&quot; : { &quot;meter&quot; : 96 }, &quot;metacritic&quot; : 93 }
{ &quot;title&quot; : &quot;E.T. the Extra-Terrestrial&quot;, &quot;tomato&quot; : { &quot;meter&quot; : 98 }, &quot;metacritic&quot; : 94 }
{ &quot;title&quot; : &quot;Au Hasard Balthazar&quot;, &quot;tomato&quot; : { &quot;meter&quot; : 100 }, &quot;metacritic&quot; : 100 }
{ &quot;title&quot; : &quot;Toy Story 3&quot;, &quot;tomato&quot; : { &quot;meter&quot; : 99 }, &quot;metacritic&quot; : 92 }</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_array_operators">Array Operators</h3>
<div class="listingblock">
<div class="title"><strong>1. $all - &#x6570;&#x7EC4;&#x4E2D;&#x6EE1;&#x8DB3;&#x5305;&#x542B;&#x7684;&#x6240;&#x6709;&#x7ED9;&#x51FA;&#x7684;&#x5143;&#x7D20;</strong></div>
<div class="content">
<pre class="highlight"><code class="language-text" data-lang="text">MongoDB Enterprise Sandbox-shard-0:PRIMARY&gt; db.movieDetails.find({genres: {$all: [&quot;Comedy&quot;, &quot;Crime&quot;, &quot;Drama&quot;]}}, {_id: 0, title: 1, genres: 1})
{ &quot;title&quot; : &quot;Down by Law&quot;, &quot;genres&quot; : [ &quot;Comedy&quot;, &quot;Crime&quot;, &quot;Drama&quot; ] }
{ &quot;title&quot; : &quot;Tod den Hippies!! Es lebe der Punk!&quot;, &quot;genres&quot; : [ &quot;Comedy&quot;, &quot;Crime&quot;, &quot;Drama&quot; ] }
{ &quot;title&quot; : &quot;Mr. Brooks&quot;, &quot;genres&quot; : [ &quot;Comedy&quot;, &quot;Crime&quot;, &quot;Drama&quot; ] }
{ &quot;title&quot; : &quot;Br&#xF8;drene Dal og mysteriet med Karl XIIs gamasjer&quot;, &quot;genres&quot; : [ &quot;Comedy&quot;, &quot;Crime&quot;, &quot;Drama&quot; ] }
{ &quot;title&quot; : &quot;O.K. Garage&quot;, &quot;genres&quot; : [ &quot;Comedy&quot;, &quot;Drama&quot;, &quot;Crime&quot; ] }
{ &quot;title&quot; : &quot;The Ax&quot;, &quot;genres&quot; : [ &quot;Comedy&quot;, &quot;Crime&quot;, &quot;Drama&quot; ] }
{ &quot;title&quot; : &quot;Ex Drummer&quot;, &quot;genres&quot; : [ &quot;Comedy&quot;, &quot;Crime&quot;, &quot;Drama&quot; ] }
{ &quot;title&quot; : &quot;Au revoir Taipei&quot;, &quot;genres&quot; : [ &quot;Comedy&quot;, &quot;Crime&quot;, &quot;Drama&quot; ] }</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title"><strong>2. $size - &#x6570;&#x7EC4;&#x4E2D;&#x6EE1;&#x8DB3;&#x5143;&#x7D20;&#x7684;&#x4E2A;&#x4E3A;&#x7279;&#x5B9A;&#x6570;&#x91CF;</strong></div>
<div class="content">
<pre class="highlight"><code class="language-text" data-lang="text">MongoDB Enterprise Sandbox-shard-0:PRIMARY&gt; db.movieDetails.find({countries: {$size: 5}}, {_id: 0, title: 1, countries: 1})
{ &quot;title&quot; : &quot;AVP: Alien vs. Predator&quot;, &quot;countries&quot; : [ &quot;USA&quot;, &quot;UK&quot;, &quot;Czech Republic&quot;, &quot;Canada&quot;, &quot;Germany&quot; ] }
{ &quot;title&quot; : &quot;Where the Trail Ends&quot;, &quot;countries&quot; : [ &quot;Argentina&quot;, &quot;Canada&quot;, &quot;China&quot;, &quot;Nepal&quot;, &quot;USA&quot; ] }
{ &quot;title&quot; : &quot;Outside the Law&quot;, &quot;countries&quot; : [ &quot;France&quot;, &quot;Algeria&quot;, &quot;Belgium&quot;, &quot;Tunisia&quot;, &quot;Italy&quot; ] }
{ &quot;title&quot; : &quot;Night on Earth&quot;, &quot;countries&quot; : [ &quot;France&quot;, &quot;UK&quot;, &quot;Germany&quot;, &quot;USA&quot;, &quot;Japan&quot; ] }
{ &quot;title&quot; : &quot;Os Canibais&quot;, &quot;countries&quot; : [ &quot;Portugal&quot;, &quot;France&quot;, &quot;West Germany&quot;, &quot;Italy&quot;, &quot;Switzerland&quot; ] }
{ &quot;title&quot; : &quot;Ae Fond Kiss...&quot;, &quot;countries&quot; : [ &quot;UK&quot;, &quot;Italy&quot;, &quot;Germany&quot;, &quot;Spain&quot;, &quot;Belgium&quot; ] }
{ &quot;title&quot; : &quot;Tesko je biti fin&quot;, &quot;countries&quot; : [ &quot;UK&quot;, &quot;Slovenia&quot;, &quot;Serbia&quot;, &quot;Germany&quot;, &quot;Bosnia and Herzegovina&quot; ] }</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title"><strong>3. $elemMatch - &#x6570;&#x7EC4;&#x4E2D;&#x67D0;&#x4E2A;&#x5143;&#x7D20;&#x6EE1;&#x8DB3;&#x7279;&#x5B9A;&#x7684;&#x503C;</strong></div>
<div class="content">
<pre class="highlight"><code class="language-text" data-lang="text">martian = db.movieDetails.findOne({title: &quot;The Martian&quot;})
martian
delete martian._id;
martian
martian.boxOffice = [
    {&quot;country&quot;: &quot;USA&quot;, &quot;revenue&quot;: 228.4},
    {&quot;country&quot;: &quot;Australia&quot;, &quot;revenue&quot;: 19.6},
    {&quot;country&quot;: &quot;UK&quot;, &quot;revenue&quot;: 33.9},
    {&quot;country&quot;: &quot;Germany&quot;, &quot;revenue&quot;: 16.2},
    {&quot;country&quot;: &quot;France&quot;, &quot;revenue&quot;: 19.8}
]
db.movieDetails.insertOne(martian);

db.movieDetails.find({boxOffice: {$elemMatch: {&quot;country&quot;: &quot;Germany&quot;, &quot;revenue&quot;: {$gt: 17}}}})

db.movieDetails.find({boxOffice: {$elemMatch: {&quot;country&quot;: &quot;Germany&quot;, &quot;revenue&quot;: {$gt: 16}}}})</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="___8">&#x6B63;&#x5219;&#x8868;&#x8FBE;&#x5F0F;&#x5339;&#x914D;</h3>
<div class="listingblock">
<div class="title"><strong>1. &#x83B7;&#x5956;&#x6587;&#x5B57;&#x4EE5; Won &#x5F00;&#x5934;&#x7684;&#x7535;&#x5F71;</strong></div>
<div class="content">
<pre class="highlight"><code class="language-text" data-lang="text">MongoDB Enterprise Sandbox-shard-0:PRIMARY&gt; db.movieDetails.find({&quot;awards.text&quot;: {$regex: /^Won.*/}}, {_id: 0, title: 1, &quot;awards.text&quot;: 1})
{ &quot;title&quot; : &quot;West Side Story&quot;, &quot;awards&quot; : { &quot;text&quot; : &quot;Won 10 Oscars. Another 18 wins &amp; 11 nominations.&quot; } }
{ &quot;title&quot; : &quot;How the West Was Won&quot;, &quot;awards&quot; : { &quot;text&quot; : &quot;Won 3 Oscars. Another 7 wins &amp; 5 nominations.&quot; } }
{ &quot;title&quot; : &quot;Star Wars: Episode IV - A New Hope&quot;, &quot;awards&quot; : { &quot;text&quot; : &quot;Won 6 Oscars. Another 38 wins &amp; 27 nominations.&quot; } }
{ &quot;title&quot; : &quot;Star Wars: Episode V - The Empire Strikes Back&quot;, &quot;awards&quot; : { &quot;text&quot; : &quot;Won 1 Oscar. Another 15 wins &amp; 17 nominations.&quot; } }
{ &quot;title&quot; : &quot;Star Trek&quot;, &quot;awards&quot; : { &quot;text&quot; : &quot;Won 1 Oscar. Another 22 wins &amp; 77 nominations.&quot; } }
{ &quot;title&quot; : &quot;Shakespeare in Love&quot;, &quot;awards&quot; : { &quot;text&quot; : &quot;Won 7 Oscars. Another 55 wins &amp; 85 nominations.&quot; } }
{ &quot;title&quot; : &quot;2001: A Space Odyssey&quot;, &quot;awards&quot; : { &quot;text&quot; : &quot;Won 1 Oscar. Another 13 wins &amp; 7 nominations.&quot; } }
{ &quot;title&quot; : &quot;The Adventures of Robin Hood&quot;, &quot;awards&quot; : { &quot;text&quot; : &quot;Won 3 Oscars. Another 2 wins &amp; 2 nominations.&quot; } }
{ &quot;title&quot; : &quot;The Adventures of Priscilla, Queen of the Desert&quot;, &quot;awards&quot; : { &quot;text&quot; : &quot;Won 1 Oscar. Another 9 wins &amp; 16 nominations.&quot; } }
{ &quot;title&quot; : &quot;The Last Picture Show&quot;, &quot;awards&quot; : { &quot;text&quot; : &quot;Won 2 Oscars. Another 16 wins &amp; 22 nominations.&quot; } }
{ &quot;title&quot; : &quot;The Greatest Show on Earth&quot;, &quot;awards&quot; : { &quot;text&quot; : &quot;Won 2 Oscars. Another 4 wins &amp; 5 nominations.&quot; } }
{ &quot;title&quot; : &quot;Pirates of the Caribbean: Dead Man&apos;s Chest&quot;, &quot;awards&quot; : { &quot;text&quot; : &quot;Won 1 Oscar. Another 41 wins &amp; 48 nominations.&quot; } }
{ &quot;title&quot; : &quot;Dead Poets Society&quot;, &quot;awards&quot; : { &quot;text&quot; : &quot;Won 1 Oscar. Another 17 wins &amp; 18 nominations.&quot; } }
{ &quot;title&quot; : &quot;Alien&quot;, &quot;awards&quot; : { &quot;text&quot; : &quot;Won 1 Oscar. Another 15 wins &amp; 19 nominations.&quot; } }
{ &quot;title&quot; : &quot;Butch Cassidy and the Sundance Kid&quot;, &quot;awards&quot; : { &quot;text&quot; : &quot;Won 4 Oscars. Another 16 wins &amp; 14 nominations.&quot; } }
{ &quot;title&quot; : &quot;All Quiet on the Western Front&quot;, &quot;awards&quot; : { &quot;text&quot; : &quot;Won 2 Oscars. Another 5 wins &amp; 2 nominations.&quot; } }
{ &quot;title&quot; : &quot;All Quiet on the Western Front&quot;, &quot;awards&quot; : { &quot;text&quot; : &quot;Won 1 Golden Globe. Another 1 win &amp; 6 nominations.&quot; } }
{ &quot;title&quot; : &quot;Midnight Cowboy&quot;, &quot;awards&quot; : { &quot;text&quot; : &quot;Won 3 Oscars. Another 24 wins &amp; 15 nominations.&quot; } }
{ &quot;title&quot; : &quot;The Cowboy and the Lady&quot;, &quot;awards&quot; : { &quot;text&quot; : &quot;Won 1 Oscar. Another 2 nominations.&quot; } }
{ &quot;title&quot; : &quot;Top Gun&quot;, &quot;awards&quot; : { &quot;text&quot; : &quot;Won 1 Oscar. Another 9 wins &amp; 5 nominations.&quot; } }
Type &quot;it&quot; for more</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_todo">TODO</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="title">**</div>
<div class="content">
<pre class="highlight"><code class="language-text" data-lang="text"></code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">**</div>
<div class="content">
<pre class="highlight"><code class="language-text" data-lang="text"></code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">**</div>
<div class="content">
<pre class="highlight"><code class="language-text" data-lang="text"></code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">**</div>
<div class="content">
<pre class="highlight"><code class="language-text" data-lang="text"></code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">**</div>
<div class="content">
<pre class="highlight"><code class="language-text" data-lang="text"></code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">**</div>
<div class="content">
<pre class="highlight"><code class="language-text" data-lang="text"></code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">**</div>
<div class="content">
<pre class="highlight"><code class="language-text" data-lang="text"></code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">**</div>
<div class="content">
<pre class="highlight"><code class="language-text" data-lang="text"></code></pre>
</div>
</div>
</div>
</div>
                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="../viewpoint/cards.html" class="navigation navigation-prev " aria-label="Previous page: MongoDB 对话卡片">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="../dev/" class="navigation navigation-next " aria-label="Next page: 开发">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"基础","level":"1.4.1.2","depth":3,"next":{"title":"开发","level":"1.4.1.3","depth":3,"path":"mongo/dev/README.adoc","ref":"mongo/dev/README.adoc","articles":[{"title":"Aggregation","level":"1.4.1.3.1","depth":4,"path":"mongo/dev/aggregation.adoc","ref":"mongo/dev/aggregation.adoc","articles":[]},{"title":"$sum","level":"1.4.1.3.2","depth":4,"path":"mongo/dev/aggregation-sum.adoc","ref":"mongo/dev/aggregation-sum.adoc","articles":[]},{"title":"分布式事务","level":"1.4.1.3.3","depth":4,"path":"mongo/dev/transactions.adoc","ref":"mongo/dev/transactions.adoc","articles":[]},{"title":"Java","level":"1.4.1.3.4","depth":4,"path":"mongo/dev/java.adoc","ref":"mongo/dev/java.adoc","articles":[]},{"title":"地理信息","level":"1.4.1.3.5","depth":4,"path":"mongo/dev/geo.adoc","ref":"mongo/dev/geo.adoc","articles":[]}]},"previous":{"title":"MongoDB 对话卡片","level":"1.4.1.1.4","depth":4,"path":"mongo/viewpoint/cards.adoc","ref":"mongo/viewpoint/cards.adoc","articles":[]},"dir":"ltr"},"config":{"gitbook":"*","theme":"default","variables":{"copyrightYear":"2019","copyrightHolder":"Kylin Soong"},"plugins":["collapsible-menu","donate","-sharing","sharing-plus","splitter","back-to-top-button","edit-link"],"pluginsConfig":{"tbfed-pagefooter":{"copyright":"Copyright &copy Kylin Soong 2019","modify_label":"该文件修订时间：","modify_format":"YYYY-MM-DD HH:mm:ss"},"collapsible-menu":{},"splitter":{},"search":{},"sharing-plus":{"qq":false,"all":["facebook","google","twitter","instapaper","linkedin","pocket","stumbleupon"],"douban":false,"facebook":true,"weibo":false,"instapaper":false,"whatsapp":false,"hatenaBookmark":false,"twitter":true,"messenger":false,"line":false,"vk":false,"pocket":true,"google":false,"viber":false,"stumbleupon":false,"qzone":false,"linkedin":false},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"donate":{"alipay":"http://ksoong.org/docs/content/images/alipay.png","alipayText":"支付宝捐赠","button":"赞赏","title":"","wechat":"http://ksoong.org/docs/content/images/wechat.png","wechatText":"微信捐赠"},"fontsettings":{"theme":"white","family":"sans","size":2},"highlight":{},"back-to-top-button":{},"sharing":{"weibo":true,"linkedin":true,"google":true,"facebook":true,"all":["facebook","google","linkedin","weibo"]},"edit-link":{"label":"Edit This Page","base":"https://github.com/kylinsoong/docs/blob/gh-pages"},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"styles":{"website":"styles/website.css"}},"file":{"path":"mongo/dba/basic.adoc","mtime":"2020-07-15T02:56:41.776Z","type":"asciidoc"},"gitbook":{"version":"3.2.3","time":"2020-12-01T14:37:40.201Z"},"basePath":"../..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../../gitbook/gitbook.js"></script>
    <script src="../../gitbook/theme.js"></script>
    
        
        <script src="../../gitbook/gitbook-plugin-collapsible-menu/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-donate/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-sharing-plus/buttons.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-splitter/splitter.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-back-to-top-button/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-edit-link/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

